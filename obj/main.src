; Zilog eZ80 ANSI C Compiler Release 3.4
; -optsize -noreduceopt -nomodsect -peephole -globalopt
; -localcse -const=ROM 
	FILE	"SRC\MAIN.C"
	.assume ADL=1
	SEGMENT CODE
;    1	// Hailstorm CE 0.0.1
;    2	// Author: epsilon5
;    3	// License: none
;    4	// Description: a fun game
;    5	
;    6	//build you fucker
;    7	#include "sprites.h"
;    8	
;    9	/* Keep these headers */
;   10	#include <tice.h>
;   11	
;   12	/* Standard headers - it's recommended to leave them included */
;   13	#include <stdio.h>
;   14	#include <stdlib.h>
;   15	#include <string.h>
;   16	#include <stdbool.h>
;   17	#include <stdint.h>
;   18	#include <stddef.h>
;   19	/* Other available headers */
;   20	// including stdarg.h, setjmp.h, assert.h, ctype.h, float.h, iso646.h, limits.h, errno.h
;   21	/* Available libraries */
;   22	// including lib/ce/graphc.h, lib/ce/fileioc.h, and lib/ce/keypadc.h
;   23	// Sample: #include <lib/ce/graphc.h>
;   24	#include <graphx.h>
;   25	#include <fileioc.h>
;   26	#include <keypadc.h>
;   27	#include <intce.h>
;   28	#include <tice.h>
;   29	#include <math.h>
;   30	/* Put your function prototypes here */
;   31	void WhiText(void) {
_WhiText:
;   32	    gfx_SetTextBGColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetTextBGColor
	POP	BC
;   33	    gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;   34	    gfx_SetTextTransparentColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetTextTransparentColor
	POP	BC
;   35	}
	RET	


;**************************** _WhiText ***************************
;Name                         Addr/Register   Size   Type
;_gfx_SetTextTransparentColor        IMPORT  -----   function
;_gfx_SetTextFGColor                 IMPORT  -----   function
;_gfx_SetTextBGColor                 IMPORT  -----   function


; Stack Frame Size: 6 (bytes)
;       Spill Code: 0 (instruction)


;   36	
;   37	void BlaText(void) {
_BlaText:
;   38	    gfx_SetTextBGColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextBGColor
	POP	BC
;   39	    gfx_SetTextFGColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;   40	    gfx_SetTextTransparentColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextTransparentColor
	POP	BC
;   41	}
	RET	


;**************************** _BlaText ***************************
;Name                         Addr/Register   Size   Type
;_gfx_SetTextTransparentColor        IMPORT  -----   function
;_gfx_SetTextFGColor                 IMPORT  -----   function
;_gfx_SetTextBGColor                 IMPORT  -----   function


; Stack Frame Size: 6 (bytes)
;       Spill Code: 0 (instruction)


;   42	
;   43	bool Confirm(void) {
_Confirm:
	LD	HL,-11
	CALL	__frameset
;   44	    uint8_t y;
;   45	    bool keypress;
;   46	    char str1[9];
;   47	    y = 0;
	LD	(IX+-1),0
;   48	    keypress = true;
	LD	(IX+-11),1
;   49	    while(!((kb_Data[6] & kb_Enter) || (kb_Data[1] & kb_2nd))) {
	JR	L_18
L_19:
;   50	        kb_Scan();
	CALL	_kb_Scan
;   51	        gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;   52	        gfx_FillRectangle(90,90, 140, 60);
	LD	BC,60
	PUSH	BC
	LD	BC,140
	PUSH	BC
	LD	BC,90
	PUSH	BC
	PUSH	BC
	CALL	_gfx_FillRectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   53	        WhiText();
	CALL	_WhiText
;   54	        gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	CALL	_gfx_SetTextScale
	POP	BC
	POP	BC
;   55	        strcpy(str1, "Really?");
	LD	BC,L__2
	PUSH	BC
	PEA	IX+-10
	CALL	_strcpy
	POP	BC
	POP	BC
;   56	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 95);
	LD	BC,95
	PUSH	BC
	PEA	IX+-10
	CALL	_gfx_GetStringWidth
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-10
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
;   57	        gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	CALL	_gfx_SetTextScale
	POP	BC
	POP	BC
;   58	        strcpy(str1, "Yes");
	LD	BC,L__3
	PUSH	BC
	PEA	IX+-10
	CALL	_strcpy
	POP	BC
	POP	BC
;   59	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 117);
	LD	BC,117
	PUSH	BC
	PEA	IX+-10
	CALL	_gfx_GetStringWidth
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-10
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
;   60	        strcpy(str1, "No.");
	LD	BC,L__4
	PUSH	BC
	PEA	IX+-10
	CALL	_strcpy
	POP	BC
	POP	BC
;   61	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) /2 , 133);
	LD	BC,133
	PUSH	BC
	PEA	IX+-10
	CALL	_gfx_GetStringWidth
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-10
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
;   62	        if ((kb_Data[7] & kb_Down) && (y < 1) && (keypress)) {
	LD	A,(16056350)
	AND	A,1
	JR	Z,L_11
	LD	A,(IX+-1)
	CP	A,1
	JR	NC,L_11
	LD	A,(IX+-11)
	OR	A,A
	JR	Z,L_11
;   63	            y++;
	INC	(IX+-1)
;   64	            keypress = false;
	LD	(IX+-11),0
;   65	        }
L_11:
;   66	        if ((kb_Data[7] & kb_Up) && (y > 0) && (keypress)) {
	LD	A,(16056350)
	AND	A,8
	JR	Z,L_13
	XOR	A,A
	CP	A,(IX+-1)
	JR	NC,L_13
	LD	A,(IX+-11)
	OR	A,A
	JR	Z,L_13
;   67	            y--;
	DEC	(IX+-1)
;   68	            keypress = false;
	LD	(IX+-11),0
;   69	        }
L_13:
;   70	        if (!kb_AnyKey()) keypress = true;
	CALL	_kb_AnyKey
	OR	A,A
	JR	NZ,L_14
	LD	(IX+-11),1
L_14:
;   71	        gfx_SetColor(7);
	LD	BC,7
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;   72	        gfx_Rectangle(90, y * 16 + 114, 140, 14);
	LD	BC,14
	PUSH	BC
	LD	BC,140
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+114
	PUSH	BC
	LD	BC,90
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   73	        gfx_Rectangle(91, y * 16 + 115, 138, 12);
	LD	BC,12
	PUSH	BC
	LD	BC,138
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+115
	PUSH	BC
	LD	BC,91
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   74	        //outside of box
;   75	        gfx_SetColor(74);
	LD	BC,74
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;   76	        gfx_Rectangle(90, 90, 140, 60);
	LD	BC,60
	PUSH	BC
	LD	BC,140
	PUSH	BC
	LD	BC,90
	PUSH	BC
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   77	        gfx_Rectangle(91, 91, 138, 58);
	LD	BC,58
	PUSH	BC
	LD	BC,138
	PUSH	BC
	LD	BC,91
	PUSH	BC
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   78	        gfx_SetTextBGColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetTextBGColor
	POP	BC
;   79	        gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;   80	        gfx_SetTextTransparentColor(0);
	LD	BC,0
	PUSH	BC
	CALL	_gfx_SetTextTransparentColor
	POP	BC
;   81	        if (y == 0) {
	LD	A,(IX+-1)
	OR	A,A
	JR	NZ,L_16
;   82	            strcpy(str1, "Yeah.");
	LD	BC,L__13
	PUSH	BC
	PEA	IX+-10
	CALL	_strcpy
	POP	BC
	POP	BC
;   83	        } else {
	JR	L_17
L_16:
;   84	            strcpy(str1, "No.");
	LD	BC,L__14
	PUSH	BC
	PEA	IX+-10
	CALL	_strcpy
	POP	BC
	POP	BC
;   85	        }
L_17:
;   86	        gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;   87	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, y * 16 + 117);
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+117
	PUSH	BC
	PEA	IX+-10
	CALL	_gfx_GetStringWidth
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-10
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
;   88	        gfx_SwapDraw();
	CALL	_gfx_SwapDraw
;   89	    }
L_18:
	LD	A,(16056348)
	AND	A,1
	JR	NZ,L_21
	LD	A,(16056338)
	AND	A,32
	JR	NZ,L_21
	JR	L_19
;   90	    while((kb_Data[6] & kb_Enter) || (kb_Data[1] & kb_2nd)) {
L_22:
;   91	        kb_Scan();
	CALL	_kb_Scan
;   92	        gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;   93	        gfx_Rectangle(90, y * 16 + 114, 140, 14);
	LD	BC,14
	PUSH	BC
	LD	BC,140
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+114
	PUSH	BC
	LD	BC,90
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   94	        gfx_Rectangle(91, y * 16 + 115, 138, 12);
	LD	BC,12
	PUSH	BC
	LD	BC,138
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+115
	PUSH	BC
	LD	BC,91
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   95	        gfx_SetColor(74);
	LD	BC,74
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;   96	        gfx_Rectangle(90, 90, 140, 60);
	LD	BC,60
	PUSH	BC
	LD	BC,140
	PUSH	BC
	LD	BC,90
	PUSH	BC
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   97	        gfx_Rectangle(91, 91, 138, 58);
	LD	BC,58
	PUSH	BC
	LD	BC,138
	PUSH	BC
	LD	BC,91
	PUSH	BC
	PUSH	BC
	CALL	_gfx_Rectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;   98	        gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;   99	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, y * 16 + 117);
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,HL
	LEA	BC,IY+117
	PUSH	BC
	PEA	IX+-10
	CALL	_gfx_GetStringWidth
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-10
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
;  100	        gfx_SwapDraw();
	CALL	_gfx_SwapDraw
;  101	    }
L_21:
	LD	A,(16056348)
	AND	A,1
	JR	NZ,L_22
	LD	A,(16056338)
	AND	A,32
	JR	NZ,L_22
;  102	    if (y == 0) {
	LD	A,(IX+-1)
	OR	A,A
	JR	NZ,L_25
;  103	        return true;
	LD	A,1
	JR	L_27
;  104	    } else {
L_25:
;  105	        return false;
	XOR	A,A
;  106	    }
;  107	}
L_27:
	LD	SP,IX
	POP	IX
	RET	


;**************************** _Confirm ***************************
;Name                         Addr/Register   Size   Type
;_gfx_SwapDraw                       IMPORT  -----   function
;_gfx_SetTextTransparentColor        IMPORT  -----   function
;_gfx_SetTextFGColor                 IMPORT  -----   function
;_gfx_SetTextBGColor                 IMPORT  -----   function
;_gfx_Rectangle                      IMPORT  -----   function
;_kb_AnyKey                          IMPORT  -----   function
;_gfx_GetStringWidth                 IMPORT  -----   function
;_gfx_PrintStringXY                  IMPORT  -----   function
;_strcpy                             IMPORT  -----   function
;_gfx_SetTextScale                   IMPORT  -----   function
;_gfx_FillRectangle                  IMPORT  -----   function
;_gfx_SetColor                       IMPORT  -----   function
;_kb_Scan                            IMPORT  -----   function
;keypress                             IX-11      1   variable
;str1                                 IX-10      9   variable
;y                                     IX-1      1   variable


; Stack Frame Size: 17 (bytes)
;       Spill Code: 0 (instruction)


	SEGMENT STRSECT
L__2:
	DB	"Really?"
	DB	0
L__3:
	DB	"Yes"
	DB	0
L__4:
	DB	"No."
	DB	0
L__13:
	DB	"Yeah."
	DB	0
L__14:
	DB	"No."
	DB	0
	SEGMENT CODE
;  108	
;  109	
;  110	/* Put all your code here */
;  111	int main(void) {
_main:
	LD	HL,-2494
	CALL	__frameset
;  112	    short keypressed;
;  113	    bool keypress;
;  114	    ti_var_t slota;
;  115	    //things for the appvar
;  116	    bool menuwrapping;
;  117	    bool showfps;
;  118	    int highscore;
;  119	    uint8_t currship;
;  120	    int asteroidsdestroyed;
;  121	    uint16_t gamesplayed;
;  122	    int shotsfired;
;  123	    uint8_t playershieldcolor;
;  124	    uint8_t playerbulletcolor;
;  125	    int plx;
;  126	    float plangle;
;  127	    uint8_t i;
;  128	    uint8_t j;
;  129	    short playerhealth;
;  130	    uint8_t numasteroids;
;  131	    uint16_t frametime;
;  132	    int loopsplayeroff;
;  133	    char str1[20];
;  134	    int count;
;  135	    uint8_t numbullets;
;  136	    int bulletcountdown;
;  137	    short bulletsfired;
;  138	    bool canfire;
;  139	    short shieldcountdown;
;  140	    typedef struct {
;  141	        uint16_t x;
;  142	        uint8_t y;
;  143	    } fstar_t;
;  144	    fstar_t fstar[20];
;  145	    typedef struct {
;  146	        uint16_t x;
;  147	        float y;
;  148	    } bstar_t;
;  149	    bstar_t bstar[20];
;  150	    typedef struct {
;  151	        uint8_t size;
;  152	        int y;
;  153	        uint16_t x;
;  154	        uint8_t speed;
;  155	        uint8_t type;
;  156	    } asteroid_t;
;  157	    asteroid_t asteroid[20];
;  158	    gfx_sprite_t *spr[14][3];
;  159	    char menutext[4][20] = {"Select Ship", "Statistics", "Settings", "About"};
	LD	HL,IX
	LD	BC,-297
	ADD	HL,BC
	LD	DE,HL
	LD	HL,_0temp28
	LD	BC,80
	LDIR	
;  160	    char menutextb[5][20] = {"Menu Wrapping", "Show FPS", "Reset Highscore", "Shield Color", "Bullet Color"};
	LD	HL,IX
	LD	BC,-397
	ADD	HL,BC
	LD	DE,HL
	LD	HL,_1temp29
	LD	BC,100
	LDIR	
;  161	    char menutextc[35][40] = {" Introduction", "Thanks for downloading and playing", "HailStorm, which aims to be a fun space", "shooter with many features. With smooth", "and consistent gameplay, many available", "spaceships and quality graphics, it", "it is a fun game to play in math class", "or anywhere else.", " Gameplay", "The gameplay is very simple: just dodge", "the asteroids, shooting them or", "activating your shield when necessary.", "With that said, here are the controls:", "[<] and [>]: move left or right", "[2nd]: fire", "[alpha]: activate shield", "[y=]: pause", " Credits", "Thanks to everyone who helped out with", "this project.", "Graphics: matkeller19", "Feedback: tr1p1ea, malagas, Jeffitus,", "beckadamtheinventor, tr1wrk", "Help: MateoConLechuga, Runer112", " Conclusion", "Thanks again for downloading. If you", "want to check out some of my other", "programs or submit feature requests", "or sprites for this one, please", "visit www.cemetech.net and search for", "HailStorm CE."};
	LD	HL,IX
	LD	BC,-2423
	ADD	HL,BC
	LD	DE,HL
	LD	HL,_2temp30
	LD	BC,1400
	LDIR	
;  162	
;  163	    typedef struct {
;  164	        uint16_t x;
;  165	        uint8_t y;
;  166	        float xinc;
;  167	        float yinc;
;  168	    } bullet_t;
;  169	    bullet_t bullet[20];
;  170	    //pointers
;  171	    fstar_t *f;
;  172	    bstar_t *t;
;  173	    bullet_t *b;
;  174	    asteroid_t *s;
;  175	    //spaceships!
;  176	    typedef struct {
;  177	        gfx_sprite_t *spr;
;  178	        bool unlocked;
;  179	    } spaceship_t;
;  180	    spaceship_t spaceship[10];
;  181	    gfx_sprite_t *currspaceship;
;  182	    spaceship[0].spr = spaceshipa;
	LD	BC,_spaceshipa_data
	LEA	IY,IX+-128
	LD	(IY+-29),BC
;  183	    spaceship[1].spr = spaceshipb;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipb_data
	LD	(IY+4),BC
;  184	    spaceship[2].spr = spaceshipc;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipc_data
	LD	(IY+8),BC
;  185	    spaceship[3].spr = spaceshipd;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipd_data
	LD	(IY+12),BC
;  186	    spaceship[4].spr = spaceshipe;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipe_data
	LD	(IY+16),BC
;  187	    spaceship[5].spr = spaceshipf;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipf_data
	LD	(IY+20),BC
;  188	    spaceship[6].spr = spaceshipg;
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,_spaceshipg_data
	LD	(IY+24),BC
;  189	    for (i = 0; i < 10; i++) {
	LD	(IX+-1),0
	JR	L_34
L_32:
;  190	        spaceship_t *s = &spaceship[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,HL
	LD	HL,IX
	LD	DE,-157
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-117),HL
;  191	        s->unlocked = false;
	LD	IY,(IX+-117)
	LD	(IY+3),0
	INC	(IX+-1)
;  192	    }
L_34:
	LD	A,(IX+-1)
	CP	A,10
	JR	C,L_32
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  193	//store some asteroids in the array
;  194	    gfx_Begin();
	CALL	_gfx_Begin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  195	    gfx_SetDraw(1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetDraw
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  196	    gfx_SetTransparentColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTransparentColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  197	    for (i = 2; i < 15; i++) {
	LD	(IX+-1),2
	JR	L_39
L_37:
;  198	        gfx_FillScreen(255);
	LD	BC,255
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),A
	POP	BC
	POP	IY
	CALL	_gfx_FillScreen
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	A,(IY)
	POP	BC
	POP	IY
	POP	BC
;  199	        gfx_RotatedScaledTransparentSprite_NoClip(asteroida, 0, 0, 0, i * 8.5);
	UEXT	HL
	LD	L,(IX+-1)
	LD	A,H
	LD	BC,HL
	CALL	__ultof
	LD	HL,524288
	LD	E,65
	CALL	__fmul
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	BC
	LD	BC,_asteroida_data
	PUSH	BC
	CALL	_gfx_RotatedScaledTransparentSprite_NoClip
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  200	        spr[i - 2][0] = gfx_MallocSprite(i * 4, i * 4);
	LD	A,(IX+-1)
	ADD	A,A
	ADD	A,A
	LD	C,A
	LD	DE,_malloc
	PUSH	DE
	LD	B,0
	PUSH	BC
	LD	C,A
	PUSH	BC
	CALL	_gfx_AllocSprite
	POP	BC
	POP	BC
	POP	BC
	LD	A,(IX+-1)
	LD	BC,HL
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	A,9
	CALL	__imul_b
	LD	DE,HL
	LD	HL,IX
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2484	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	DE,-643
	PUSH	BC
	PUSH	HL
	LD	HL,DE	; unspill
	LD	BC,-2487	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2484	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,-2484	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2487	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,DE
	PUSH	BC
	LD	BC,-2484	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,DE
	LD	(HL),BC
;  201	        gfx_GetSprite(spr[i - 2][0], 0, 0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	A,9
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-643
	ADD	HL,DE
	ADD	HL,BC
	LD	BC,(HL)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetSprite
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  202	    }
L_39:
	LD	A,(IX+-1)
	CP	A,15
	JR	C,L_37
;  203	    for (i = 2; i < 15; i++) {
	LD	(IX+-1),2
	JR	L_43
L_41:
;  204	        gfx_FillScreen(255);
	LD	BC,255
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),A
	POP	BC
	POP	IY
	CALL	_gfx_FillScreen
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	A,(IY)
	POP	BC
	POP	IY
	POP	BC
;  205	        gfx_RotatedScaledTransparentSprite_NoClip(asteroidb, 0, 0, 0, i * 8.5);
	UEXT	HL
	LD	L,(IX+-1)
	LD	A,H
	LD	BC,HL
	CALL	__ultof
	LD	HL,524288
	LD	E,65
	CALL	__fmul
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	BC
	LD	BC,_asteroidb_data
	PUSH	BC
	CALL	_gfx_RotatedScaledTransparentSprite_NoClip
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  206	        spr[i - 2][1] = gfx_MallocSprite(i * 4, i * 4);
	LD	A,(IX+-1)
	ADD	A,A
	ADD	A,A
	LD	C,A
	LD	DE,_malloc
	PUSH	DE
	LD	B,0
	PUSH	BC
	LD	C,A
	PUSH	BC
	CALL	_gfx_AllocSprite
	POP	BC
	POP	BC
	POP	BC
	LD	A,(IX+-1)
	LD	BC,HL
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	IY,IX
	LD	DE,-643
	ADD	IY,DE
	LD	A,9
	CALL	__imul_b
	LD	DE,IY
	ADD	HL,DE
	LD	IY,HL
	LEA	HL,IY+3
	LD	(HL),BC
;  207	        gfx_GetSprite(spr[i - 2][1], 0, 0);
	LD	BC,-643
	LD	DE,0
	PUSH	DE
	PUSH	DE
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	IY,IX
	ADD	IY,BC
	LD	A,9
	CALL	__imul_b
	LD	BC,IY
	ADD	HL,BC
	LD	IY,HL
	LEA	HL,IY+3
	LD	BC,(HL)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetSprite
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  208	    }
L_43:
	LD	A,(IX+-1)
	CP	A,15
	JR	C,L_41
;  209	    for (i = 2; i < 15; i++) {
	LD	(IX+-1),2
	JR	L_48
L_46:
;  210	        gfx_FillScreen(255);
	LD	BC,255
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),A
	POP	BC
	POP	IY
	CALL	_gfx_FillScreen
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	A,(IY)
	POP	BC
	POP	IY
	POP	BC
;  211	        gfx_RotatedScaledTransparentSprite_NoClip(asteroidc, 0, 0, 0, i * 8.5);
	UEXT	HL
	LD	L,(IX+-1)
	LD	A,H
	LD	BC,HL
	CALL	__ultof
	LD	HL,524288
	LD	E,65
	CALL	__fmul
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	BC
	LD	BC,_asteroidc_data
	PUSH	BC
	CALL	_gfx_RotatedScaledTransparentSprite_NoClip
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  212	        spr[i - 2][2] = gfx_MallocSprite(i * 4, i * 4);
	LD	A,(IX+-1)
	ADD	A,A
	ADD	A,A
	LD	C,A
	LD	DE,_malloc
	PUSH	DE
	LD	B,0
	PUSH	BC
	LD	C,A
	PUSH	BC
	CALL	_gfx_AllocSprite
	POP	BC
	POP	BC
	POP	BC
	LD	A,(IX+-1)
	LD	BC,HL
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	IY,IX
	LD	DE,-643
	ADD	IY,DE
	LD	A,9
	CALL	__imul_b
	LD	DE,IY
	ADD	HL,DE
	LD	IY,HL
	LEA	HL,IY+6
	LD	(HL),BC
;  213	        gfx_GetSprite(spr[i - 2][2], 0, 0);
	LD	BC,-643
	LD	DE,0
	PUSH	DE
	PUSH	DE
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	IY,IX
	ADD	IY,BC
	LD	A,9
	CALL	__imul_b
	LD	BC,IY
	ADD	HL,BC
	LD	IY,HL
	LEA	HL,IY+6
	LD	BC,(HL)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetSprite
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  214	    }
L_48:
	LD	A,(IX+-1)
	CP	A,15
	JR	C,L_46
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  215	//highscore stuff
;  216	    ti_CloseAll();
	CALL	_ti_CloseAll
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  217	    if (!(slota = ti_Open("HSTRMDAT", "r"))) {
	LD	BC,L__25
	PUSH	BC
	LD	BC,L__26
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Open
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	(IX+-17),A
	OR	A,A
	JR	NZ,L_52
;  218	        highscore = 0;
	LD	BC,0
	LD	(IX+-59),BC
;  219	        currship = 0;
	LD	(IX+-77),0
;  220	        gamesplayed = 0;
	LD	(IX+-71),0
	LD	(IX+-70),0
;  221	        asteroidsdestroyed = 0;
	LD	(IX+-66),BC
;  222	        shotsfired = 0;
	LD	(IX+-74),BC
;  223	        playershieldcolor = 20;
	LD	(IX+-53),20
;  224	        playerbulletcolor = 231;
	LD	(IX+-54),231
;  225	        menuwrapping = true;
	LD	(IX+-82),1
;  226	        showfps = false;
	LD	(IX+-78),0
;  227	    } else {
	JR	L_53
L_52:
;  228	        ti_Read(&highscore, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-59
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  229	        ti_Read(&currship, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-77
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  230	        ti_Read(&gamesplayed, 2, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,2
	PUSH	BC
	PEA	IX+-71
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  231	        ti_Read(&asteroidsdestroyed, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-66
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  232	        ti_Read(&shotsfired, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-74
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  233	        ti_Read(&playershieldcolor, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-53
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  234	        ti_Read(&playerbulletcolor, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-54
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  235	        ti_Read(&menuwrapping, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-82
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  236	        ti_Read(&showfps, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-78
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_ti_Read
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  237	    }
L_53:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  238	//main menu
;  239	    WhiText();
	CALL	_WhiText
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  240	    for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_56
L_54:
;  241	        f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  242	        t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  243	        f->x = randInt(0, 320);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,321
	CALL	__iremu
	LD	BC,HL
	LD	IY,(IX+-6)
	LD	(IY+0),C
	LD	(IY+1),B
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  244	        f->y = randInt(0, 240);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,241
	CALL	__iremu
	LD	IY,(IX+-6)
	LD	(IY+2),L
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  245	        t->x = randInt(0, 320);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,321
	CALL	__iremu
	LD	BC,HL
	LD	IY,(IX+-9)
	LD	(IY+0),C
	LD	(IY+1),B
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  246	        t->y = randInt(0, 240);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,241
	CALL	__iremu
	LD	BC,HL
	XOR	A,A
	CALL	__ultof
	LD	IY,(IX+-9)
	LD	(IY+2),BC
	LD	(IY+5),A
	INC	(IX+-1)
;  247	    }
L_56:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_54
;  248	    currspaceship = spaceship[currship].spr;
	LD	A,(IX+-77)
	LD	IY,IX
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,-157
	ADD	IY,BC
	LD	BC,IY
	ADD	HL,BC
	LD	IY,HL
	LD	BC,(IY+0)
	LD	(IX+-98),BC
;  249	MAINMENU:
L_58:
;  250	    //mainmenu start
;  251	    keypressed = 0;
	LD	(IX+-80),0
	LD	(IX+-79),0
;  252	    keypress = false;
	LD	(IX+-13),0
;  253	    while (kb_AnyKey()) kb_Scan();
	JR	L_59
L_60:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
L_59:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	OR	A,A
	JR	NZ,L_60
;  254	    while ((keypressed == 0) || (keypress == true)) {
	JR	L_84
L_85:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  255	        kb_Scan();
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  256	        //update star positions
;  257	        for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_67
L_65:
;  258	            f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  259	            t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
;  260	            f->y += 1;
;  261	            if (f->y > 240) f->y = 0;
	LD	A,240
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
	LD	IY,(IX+-6)
	LD	B,(IY+2)
	INC	B
	LD	(IY+2),B
	CP	A,(IY+2)
	JR	NC,L_63
	LD	IY,(IX+-6)
	LD	(IY+2),0
L_63:
;  262	            t->y += 0.5;
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	OR	A,A
	SBC	HL,HL
	LD	E,63
	CALL	__fadd
	LD	(IY+2),BC
	LD	(IY+5),A
;  263	            if (t->y > 240) t->y = 0;
	LD	BC,(IY+2)
	LD	A,(IY+5)
	LD	HL,7340032
	LD	E,67
	CALL	__fcmp
	JP	P,L_66
	LD	BC,0
	LD	IY,(IX+-9)
	LD	(IY+2),BC
	LD	(IY+5),0
;  264	        }
L_66:
	INC	(IX+-1)
L_67:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_65
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  265	        //draw everything
;  266	        gfx_ZeroScreen();
	CALL	_gfx_ZeroScreen
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  267	        gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  268	        for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_71
L_69:
;  269	            f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  270	            t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
;  271	            gfx_FillRectangle(320 - f->x, f->y, 2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	LD	IY,(IX+-6)
	LD	A,(IY+2)
	UEXT	HL
	LD	L,A
	PUSH	HL
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  272	            gfx_SetPixel(320 - t->x, t->y);
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetPixel
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	INC	(IX+-1)
;  273	        }
L_71:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_69
;  274	        //left
;  275	        if (kb_Data[1] & kb_Yequ) {
	LD	A,(16056338)
	AND	A,16
	JR	Z,L_73
;  276	            gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  277	            keypress = true;
	LD	(IX+-13),1
;  278	            keypressed = 1;
	LD	(IX+-80),1
	LD	(IX+-79),0
;  279	        } else {
	JR	L_75
L_73:
;  280	            gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  281	        }
L_75:
;  282	        gfx_Circle(50, 195, 30);
	LD	BC,30
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,50
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  283	        gfx_Circle(50, 195, 31);
	LD	BC,31
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,50
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  284	        gfx_FillCircle(50, 195, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,50
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  285	        gfx_FillCircle(70, 195, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,70
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  286	        gfx_FillCircle(30, 195, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,30
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  287	        gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  288	        strcpy(str1, "HailStorm");
	LD	BC,L__35
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_strcpy
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  289	        gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  290	        gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 10);
	LD	BC,10
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  291	        gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  292	        //right
;  293	        if (kb_Data[1] & kb_Graph) {
	LD	A,(16056338)
	AND	A,1
	JR	Z,L_77
;  294	            gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  295	            keypress = true;
	LD	(IX+-13),1
;  296	            keypressed = 3;
	LD	(IX+-80),3
	LD	(IX+-79),0
;  297	        } else {
	JR	L_78
L_77:
;  298	            gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  299	        }
L_78:
;  300	        gfx_Circle(270, 195, 30);
	LD	BC,30
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,270
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  301	        gfx_Circle(270, 195, 31);
	LD	BC,31
	PUSH	BC
	LD	BC,195
	PUSH	BC
	LD	BC,270
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  302	        //center
;  303	        if (kb_Data[1] & kb_Zoom) {
	LD	A,(16056338)
	AND	A,4
	JR	Z,L_80
;  304	            gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  305	            keypress = true;
	LD	(IX+-13),1
;  306	            keypressed = 2;
	LD	(IX+-80),2
	LD	(IX+-79),0
;  307	        } else {
	JR	L_81
L_80:
;  308	            gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  309	        }
L_81:
;  310	        gfx_Circle(160, 190, 37);
	LD	BC,37
	PUSH	BC
	LD	BC,190
	PUSH	BC
	LD	BC,160
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  311	        gfx_Circle(160, 190, 36);
	LD	BC,36
	PUSH	BC
	LD	BC,190
	PUSH	BC
	LD	BC,160
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  312	        gfx_Circle(160, 190, 35);
	LD	BC,35
	PUSH	BC
	LD	BC,190
	PUSH	BC
	LD	BC,160
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  313	        gfx_FillTriangle(186, 190, 160 + 26 * cos(2.09), 190 + 26 * sin(2.09), 160 + 26 * cos(4.19), 190 + 26 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,4063232
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,2097152
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,4063232
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,2097152
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,190
	PUSH	BC
	LD	BC,186
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  314	        gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  315	        gfx_FillTriangle(180, 190, 160 + 20 * cos(2.09), 190 + 20 * sin(2.09), 160 + 20 * cos(4.19), 190 + 20 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,4063232
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,2097152
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,4063232
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,2097152
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,190
	PUSH	BC
	LD	BC,180
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  316	        //end
;  317	        if (!kb_AnyKey()) keypress = false;
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	OR	A,A
	JR	NZ,L_83
	LD	(IX+-13),0
L_83:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  318	        gfx_SwapDraw();
	CALL	_gfx_SwapDraw
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  319	    }
L_84:
	LD	HL,(IX+-80)
	CALL	__scmpzero
	JR	Z,L_85
	LD	A,(IX+-13)
	CP	A,1
	JR	Z,L_85
;  320	    if (keypressed == 3) goto QUIT;
	LD.LIS	BC,3
	LD	HL,(IX+-80)
	OR	A,A
	SBC.SIS	HL,BC
	JR	Z,L_87
;  321	    if (keypressed == 1) {
	LD.LIS	BC,1
	LD	HL,(IX+-80)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_253
;  322	        plx = 0;
	LD	BC,0
	LD	(IX+-12),BC
;  323	        keypress = true;
	LD	(IX+-13),1
;  324	        j = currship;
	LD	A,(IX+-77)
	LD	(IX+-18),A
;  325	        playerhealth = 0;
	LD	(IX+-3),0
	LD	(IX+-2),0
;  326	        loopsplayeroff = 0;
	LD	(IX+-51),BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  327	        WhiText();
	CALL	_WhiText
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  328	        while (!(kb_Data[1] & kb_Zoom)) {
	JR	L_248
L_249:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  329	            gfx_ZeroScreen();
	CALL	_gfx_ZeroScreen
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  330	            gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  331	            //NOTE: bottom toolbar code is embedded here
;  332	            kb_Scan();
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  333	            if (kb_Data[1] & kb_Yequ) {
	LD	A,(16056338)
	AND	A,16
	JR	Z,L_95
;  334	                if ((keypress) && (plx > 0)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_93
	LD	BC,(IX+-12)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	JP	P,L_93
;  335	                    plx--;
	LD	BC,(IX+-12)
	DEC	BC
	LD	(IX+-12),BC
;  336	                    keypress = false;
	LD	(IX+-13),0
;  337	                }
L_93:
;  338	                gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  339	                gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  340	            } else {
	JR	L_97
L_95:
;  341	                gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  342	                gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  343	            }
L_97:
;  344	            if (plx > 0) {
	LD	BC,(IX+-12)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_104
;  345	                gfx_FillTriangle(5, 225, 15 + 10 * cos(1.05), 225 + 10 * sin(1.05), 15 + 10 * cos(5.24), 225 + 10 * sin(5.24));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,7340032
	LD	E,65
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,7340032
	LD	E,65
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,225
	PUSH	BC
	LD	BC,5
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  346	                gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
;  347	                gfx_FillTriangle(9, 225, 15 + 6 * cos(1.05), 225 + 6 * sin(1.05), 15 + 6 * cos(5.24), 225 + 6 * sin(5.24));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,7340032
	LD	E,65
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,7340032
	LD	E,65
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,225
	PUSH	BC
	LD	BC,9
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  348	                gfx_PrintStringXY(menutext[plx - 1], 23, 222);
	LD	BC,222
	PUSH	BC
	LD	BC,23
	PUSH	BC
	LD	HL,(IX+-12)
	DEC	HL
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-297
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  349	            }
L_104:
;  350	            if ((kb_Data[1] & kb_Graph)) {
	LD	A,(16056338)
	AND	A,1
	JR	Z,L_103
;  351	                if ((keypress) && (plx < 3)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_101
	LD	BC,3
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	JP	P,L_101
;  352	                    plx++;
	LD	BC,(IX+-12)
	INC	BC
	LD	(IX+-12),BC
;  353	                    keypress = false;
	LD	(IX+-13),0
;  354	                }
L_101:
;  355	                gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  356	                gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  357	            } else {
	JR	L_106
L_103:
;  358	                gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  359	                gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  360	            }
L_106:
;  361	            if (plx < 3) {
	LD	BC,3
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_108
;  362	                gfx_FillTriangle(315, 225, 305 + 10 * cos(2.09), 225 + 10 * sin(2.09), 305 + 10 * cos(4.19), 225 + 10 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,9994240
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	HL,9994240
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,225
	PUSH	BC
	LD	BC,315
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  363	                gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
;  364	                gfx_FillTriangle(311, 225, 305 + 6 * cos(2.09), 225 + 6 * sin(2.09), 305 + 6 * cos(4.19), 225 + 6 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,9994240
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_sin
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,6356992
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,9994240
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,225
	PUSH	BC
	LD	BC,311
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  365	                gfx_PrintStringXY(menutext[plx + 1], 297 - gfx_GetStringWidth(menutext[plx + 1]), 222);
	LD	BC,222
	PUSH	BC
	LD	HL,(IX+-12)
	INC	HL
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-297
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	LD	BC,HL
	LD	HL,297
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	HL,(IX+-12)
	INC	HL
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-297
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  366	            }
L_108:
;  367	            if (kb_Data[1] & kb_Zoom) goto MAINMENU;
	LD	A,(16056338)
	AND	A,4
	JR	NZ,L_58
;  368	            gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
;  369	            //do some making of the button that returns to the main menu
;  370	            gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
;  371	            if (!kb_AnyKey()) keypress = true;
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	OR	A,A
	JR	NZ,L_117
	LD	(IX+-13),1
L_117:
;  372	            for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_116
L_114:
;  373	                f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  374	                t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
;  375	                f->y += 1;
;  376	                if (f->y > 240) f->y = 0;
	LD	A,240
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
	LD	IY,(IX+-6)
	LD	B,(IY+2)
	INC	B
	LD	(IY+2),B
	CP	A,(IY+2)
	JR	NC,L_112
	LD	IY,(IX+-6)
	LD	(IY+2),0
L_112:
;  377	                t->y += 0.5;
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	OR	A,A
	SBC	HL,HL
	LD	E,63
	CALL	__fadd
	LD	(IY+2),BC
	LD	(IY+5),A
;  378	                if (t->y > 240) t->y = 0;
	LD	BC,(IY+2)
	LD	A,(IY+5)
	LD	HL,7340032
	LD	E,67
	CALL	__fcmp
	JP	P,L_115
	LD	BC,0
	LD	IY,(IX+-9)
	LD	(IY+2),BC
	LD	(IY+5),0
;  379	            }
L_115:
	INC	(IX+-1)
L_116:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_114
;  380	            //draw everything
;  381	            //title text and stuff
;  382	            gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	POP	BC
;  383	            gfx_PrintStringXY(menutext[plx], 160 - gfx_GetStringWidth(menutext[plx]) / 2, 10);
	LD	BC,10
	PUSH	BC
	LD	HL,(IX+-12)
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-297
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	HL,(IX+-12)
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-297
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  384	            gfx_HorizLine(15, 30, 290);
	LD	BC,290
	PUSH	BC
	LD	BC,30
	PUSH	BC
	LD	BC,15
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_HorizLine
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  385	            gfx_HorizLine(30, 215, 260);
	LD	BC,260
	PUSH	BC
	LD	BC,215
	PUSH	BC
	LD	BC,30
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_HorizLine
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  386	            //stars
;  387	            gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  388	            for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_121
L_119:
;  389	                f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  390	                t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
;  391	                gfx_FillRectangle(320 - f->x, f->y, 2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	LD	IY,(IX+-6)
	LD	A,(IY+2)
	UEXT	HL
	LD	L,A
	PUSH	HL
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  392	                gfx_SetPixel(320 - t->x, t->y);
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetPixel
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	INC	(IX+-1)
;  393	            }
L_121:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_119
;  394	            //menu specific stuff
;  395	            if (plx == 0) {
	LD	HL,(IX+-12)
	CALL	__icmpzero
	JR	NZ,L_143
;  396	                if (kb_Data[7] & kb_Left) {
	LD	A,(16056350)
	AND	A,2
	JR	Z,L_127
;  397	                    if ((keypress) && (j > 0)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_125
	XOR	A,A
	CP	A,(IX+-18)
	JR	NC,L_125
;  398	                        j--;
	DEC	(IX+-18)
;  399	                        keypress = false;
	LD	(IX+-13),0
;  400	                    }
L_125:
;  401	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  402	                } else {
	JR	L_129
L_127:
;  403	                    gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  404	                }
L_129:
;  405	                if (j > 0) {
	XOR	A,A
	CP	A,(IX+-18)
	JR	NC,L_136
;  406	                    gfx_FillTriangle(64, 120, 90 + 26 * cos(1.05), 120 + 26 * sin(1.05), 90 + 26 * cos(5.24), 120 + 26 * sin(5.24));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,11796480
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,11796480
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,64
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  407	                    gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  408	                    gfx_FillTriangle(70, 120, 90 + 20 * cos(1.05), 120 + 20 * sin(1.05), 90 + 20 * cos(5.24), 120 + 20 * sin(5.24));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,10989076
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,11796480
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,63
	LD	B,0
	PUSH	BC
	LD	BC,8808038
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,11796480
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,70
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  409	                }
L_136:
;  410	                if (kb_Data[7] & kb_Right) {
	LD	A,(16056350)
	AND	A,4
	JR	Z,L_135
;  411	                    if ((keypress) && (j < 6)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_133
	LD	A,(IX+-18)
	CP	A,6
	JR	NC,L_133
;  412	                        j++;
	INC	(IX+-18)
;  413	                        keypress = false;
	LD	(IX+-13),0
;  414	                    }
L_133:
;  415	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  416	                } else {
	JR	L_138
L_135:
;  417	                    gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  418	                }
L_138:
;  419	                if (j < 6) {
	LD	A,(IX+-18)
	CP	A,6
	JR	NC,L_139
;  420	                    gfx_FillTriangle(256, 120, 230 + 26 * cos(2.09), 120 + 26 * sin(2.09), 230 + 26 * cos(4.19), 120 + 26 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,6684672
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,13631488
	LD	E,65
	CALL	__fmul
	LD	HL,6684672
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,256
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  421	                    gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  422	                    gfx_FillTriangle(250, 120, 230 + 20 * cos(2.09), 120 + 20 * sin(2.09), 230 + 20 * cos(4.19), 120 + 20 * sin(4.19));
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,8787067
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,6684672
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,15728640
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	C,64
	LD	B,0
	PUSH	BC
	LD	BC,377487
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,10485760
	LD	E,65
	CALL	__fmul
	LD	HL,6684672
	LD	E,67
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,250
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillTriangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  423	                }
L_139:
;  424	                currspaceship = spaceship[j].spr;
	LD	A,(IX+-18)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,IY
	ADD	HL,BC
	LD	IY,HL
	LD	BC,(IY+0)
	LD	(IX+-98),BC
;  425	                gfx_ScaledTransparentSprite_NoClip(currspaceship, 130, 90, 2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	LD	BC,90
	PUSH	BC
	LD	BC,130
	PUSH	BC
	LD	BC,(IX+-98)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_ScaledTransparentSprite_NoClip
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  426	                sprintf(str1, "%d / 7", j + 1);
	LD	A,(IX+-18)
	UEXT	HL
	LD	L,A
	INC	HL
	PUSH	HL
	LD	BC,L__66
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  427	                gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  428	                gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  429	                gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 155);
	LD	BC,155
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  430	                sprintf(str1, "Unlocked: %d", spaceship[j].unlocked);
	LD	A,(IX+-18)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	LD	IY,IX
	LD	BC,-157
	ADD	IY,BC
	LD	BC,IY
	ADD	HL,BC
	LD	IY,HL
	LD	A,(IY+3)
	UEXT	HL
	LD	L,A
	PUSH	HL
	LD	BC,L__67
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  431	                gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 77);
	LD	BC,77
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  432	                //if some condition is fulfilled
;  433	                currship = j;
	LD	A,(IX+-18)
	LD	(IX+-77),A
;  434	            }
L_143:
;  435	            if (plx == 1) {
	LD	BC,1
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	JR	NZ,L_222
;  436	                gfx_SetTextScale(1, 1);
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  437	                gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  438	                gfx_PrintStringXY("Highscore :", 40, 40);
	LD	BC,40
	PUSH	BC
	PUSH	BC
	LD	BC,L__69
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  439	                sprintf(str1, "%d", highscore);
	LD	BC,(IX+-59)
	PUSH	BC
	LD	BC,L__70
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  440	                gfx_PrintStringXY(str1, 280 - gfx_GetStringWidth(str1), 40);
	LD	BC,40
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,280
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  441	                gfx_PrintStringXY("Games Played :", 40, 55);
	LD	BC,55
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,L__71
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  442	                sprintf(str1, "%d", gamesplayed);
	LD	BC,(IX+-71)
	CALL	__stoiu
	PUSH	HL
	LD	BC,L__72
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  443	                gfx_PrintStringXY(str1, 280 - gfx_GetStringWidth(str1), 55);
	LD	BC,55
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,280
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  444	                gfx_PrintStringXY("Asteroids Destroyed:", 40, 70);
	LD	BC,70
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,L__73
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  445	                sprintf(str1, "%d", asteroidsdestroyed);
	LD	BC,(IX+-66)
	PUSH	BC
	LD	BC,L__74
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  446	                gfx_PrintStringXY(str1, 280 - gfx_GetStringWidth(str1), 70);
	LD	BC,70
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,280
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  447	                gfx_PrintStringXY("Shots Fired :", 40, 85);
	LD	BC,85
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,L__75
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  448	                sprintf(str1, "%d", shotsfired);
	LD	BC,(IX+-74)
	PUSH	BC
	LD	BC,L__76
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  449	                gfx_PrintStringXY(str1, 280 - gfx_GetStringWidth(str1), 85);
	LD	BC,85
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,280
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  450	                gfx_PrintStringXY("Accuracy :", 40, 100);
	LD	BC,100
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,L__77
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  451	                sprintf(str1, "%d %s", asteroidsdestroyed * 100 / shotsfired, "%");
	LD	BC,L__78
	PUSH	BC
	LD	HL,(IX+-66)
	LD	A,100
	CALL	__imul_b
	LD	BC,(IX+-74)
	CALL	__idivs
	PUSH	HL
	LD	BC,L__79
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  452	                gfx_PrintStringXY(str1, 280 - gfx_GetStringWidth(str1), 100);
	LD	BC,100
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,280
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  453	            }
L_222:
;  454	            if (plx == 2) {
	LD	BC,2
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	JR	NZ,L_246
;  455	                if (kb_Data[7] & kb_Up) {
	LD	A,(16056350)
	AND	A,8
	JR	Z,L_152
;  456	                    if ((keypress) && (playerhealth > 0)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_152
	LD	BC,(IX+-3)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC.SIS	HL,BC
	JP	P,L_152
;  457	                        playerhealth--;
	LD	HL,(IX+-3)
	DEC	HL
	LD	(IX+-3),L
	LD	(IX+-2),H
;  458	                        keypress = false;
	LD	(IX+-13),0
;  459	                    }
;  460	                }
L_152:
;  461	                if (kb_Data[7] & kb_Down) {
	LD	A,(16056350)
	AND	A,1
	JR	Z,L_165
;  462	                    if ((keypress) && (playerhealth < 4)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_165
	LD.LIS	BC,4
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JP	P,L_165
;  463	                        playerhealth++;
	LD	HL,(IX+-3)
	INC	HL
	LD	(IX+-3),L
	LD	(IX+-2),H
;  464	                        keypress = false;
	LD	(IX+-13),0
;  465	                    }
;  466	                }
L_165:
;  467	                if (kb_Data[7] & kb_Right) {
	LD	A,(16056350)
	AND	A,4
	JR	Z,L_178
;  468	                    if (playerhealth == 0) menuwrapping = true;
	LD	HL,(IX+-3)
	CALL	__scmpzero
	JR	NZ,L_155
	LD	(IX+-82),1
L_155:
;  469	                    if (playerhealth == 1) showfps = true;
	LD.LIS	BC,1
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_159
	LD	(IX+-78),1
L_159:
;  470	                    if ((playerhealth == 3) && (playershieldcolor < 255)) playershieldcolor++;
	LD.LIS	BC,3
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_163
	LD	A,(IX+-53)
	CP	A,255
	JR	NC,L_163
	INC	(IX+-53)
L_163:
;  471	                    if ((playerhealth == 4) && (playerbulletcolor < 255)) playerbulletcolor++;
	LD.LIS	BC,4
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_178
	LD	A,(IX+-54)
	CP	A,255
	JR	NC,L_178
	INC	(IX+-54)
;  472	                }
L_178:
;  473	                if (kb_Data[7] & kb_Left) {
	LD	A,(16056350)
	AND	A,2
	JR	Z,L_179
;  474	                    if (playerhealth == 0) menuwrapping = false;
	LD	HL,(IX+-3)
	CALL	__scmpzero
	JR	NZ,L_168
	LD	(IX+-82),0
L_168:
;  475	                    if (playerhealth == 1) showfps = false;
	LD.LIS	BC,1
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_172
	LD	(IX+-78),0
L_172:
;  476	                    if ((playerhealth == 3) && (playershieldcolor > 1)) playershieldcolor--;
	LD.LIS	BC,3
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_176
	LD	A,1
	CP	A,(IX+-53)
	JR	NC,L_176
	DEC	(IX+-53)
L_176:
;  477	                    if ((playerhealth == 4) && (playerbulletcolor > 1)) playerbulletcolor--;
	LD.LIS	BC,4
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	JR	NZ,L_179
	LD	A,1
	CP	A,(IX+-54)
	JR	NC,L_179
	DEC	(IX+-54)
;  478	                }
L_179:
;  479	                gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetTextFGColor
	POP	BC
;  480	                gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	CALL	_gfx_SetTextScale
	POP	BC
	POP	BC
;  481	                for (i = 0; i < 5; i++) {
	LD	(IX+-1),0
	JR	L_183
L_181:
;  482	                    gfx_PrintStringXY(menutextb[i], 40, 40 + i * 15);
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+40
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-397
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	CALL	_gfx_PrintStringXY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  483	                }
L_183:
	LD	A,(IX+-1)
	CP	A,5
	JR	C,L_181
;  484	                //the box
;  485	                if ((kb_Data[6] & kb_Enter) || (kb_Data[1] & kb_2nd)) {
	LD	A,(16056348)
	AND	A,1
	JR	NZ,L_190
	LD	A,(16056338)
	AND	A,32
	JR	Z,L_191
L_190:
;  486	                    gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;  487	                    if (playerhealth == 2) {
	LD	HL,(IX+-3)
	LD.LIS	BC,2
	OR	A,A
	SBC.SIS	HL,BC
	JR	Z,L_185
	JR	L_193
;  488	                            while (kb_AnyKey()) kb_Scan();
L_186:
	CALL	_kb_Scan
L_185:
	CALL	_kb_AnyKey
	OR	A,A
	JR	NZ,L_186
;  489	                            if (Confirm()) {
	CALL	_Confirm
	OR	A,A
	JR	Z,L_193
;  490	                                asteroidsdestroyed = 0;
	LD	BC,0
	LD	(IX+-66),BC
;  491	                                highscore = 0;
	LD	(IX+-59),BC
;  492	                                currship = 0;
	LD	(IX+-77),0
;  493	                                gamesplayed = 0;
	LD	(IX+-71),0
	LD	(IX+-70),0
;  494	                                asteroidsdestroyed = 0;
	LD	(IX+-66),BC
;  495	                                shotsfired = 0;
	LD	(IX+-74),BC
;  496	                            }
;  497	                    }
;  498	                } else {
	JR	L_193
L_191:
;  499	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	CALL	_gfx_SetColor
	POP	BC
;  500	                }
L_193:
;  501	                gfx_FillCircle(40, 44 + playerhealth * 15, 6);
	LD	A,15
	LD	BC,6
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,40
	PUSH	BC
	CALL	_gfx_FillCircle
	POP	BC
	POP	BC
	POP	BC
;  502	                gfx_FillRectangle(40, 38 + playerhealth * 15, 110, 13);
	LD	BC,13
	PUSH	BC
	LD	A,15
	LD	BC,110
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+38
	PUSH	BC
	LD	BC,40
	PUSH	BC
	CALL	_gfx_FillRectangle
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  503	                gfx_FillCircle(150, 44 + playerhealth * 15, 6);
	LD	A,15
	LD	BC,6
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,150
	PUSH	BC
	CALL	_gfx_FillCircle
	POP	BC
	POP	BC
	POP	BC
;  504	                BlaText();
	CALL	_BlaText
;  505	                gfx_PrintStringXY(menutextb[playerhealth], 40, 40 + playerhealth * 15);
	LD	BC,(IX+-3)
	CALL	__stoi
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+40
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	LD	A,20
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-397
	ADD	HL,DE
	ADD	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  506	                //colors
;  507	                gfx_SetColor(playershieldcolor);
	LD	C,(IX+-53)
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  508	                gfx_FillCircle(240, 89, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,89
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  509	                gfx_FillRectangle(240, 83, 40, 13);
	LD	BC,13
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,83
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  510	                gfx_FillCircle(280, 89, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,89
	PUSH	BC
	LD	BC,280
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  511	                gfx_SetColor(playerbulletcolor);
	LD	C,(IX+-54)
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  512	                gfx_FillCircle(240, 104, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,104
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  513	                gfx_FillRectangle(240, 98, 40, 13);
	LD	BC,13
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,98
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  514	                gfx_FillCircle(280, 104, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,104
	PUSH	BC
	LD	BC,280
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  515	                gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  516	                for (i = 0; i < 2; i++) {
	LD	(IX+-1),0
	JR	L_204
L_202:
;  517	                    if (i == 0) {
	LD	A,(IX+-1)
	OR	A,A
	JR	NZ,L_196
;  518	                        canfire = menuwrapping;
	LD	A,(IX+-82)
	LD	(IX+-63),A
;  519	                    } else {
	JR	L_197
L_196:
;  520	                        canfire = showfps;
	LD	A,(IX+-78)
	LD	(IX+-63),A
;  521	                    }
L_197:
;  522	                    gfx_SetColor(224);
	LD	BC,224
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  523	                    if (canfire) gfx_SetColor(7);
	LD	A,(IX+-63)
	OR	A,A
	JR	Z,L_199
	LD	BC,7
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
L_199:
;  524	                    gfx_FillCircle(240, 44 + i * 15, 6);
	LD	BC,6
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  525	                    gfx_FillRectangle(240, 38 + i * 15, 40, 13);
	LD	BC,13
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+38
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  526	                    gfx_FillCircle(280, 44 + i * 15, 6);
	LD	BC,6
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,280
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  527	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  528	                    if (canfire) {
	LD	A,(IX+-63)
	OR	A,A
	JR	Z,L_201
;  529	                        gfx_FillCircle(280, 44 + i * 15, 4);
	LD	BC,4
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,280
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  530	                    } else {
	JR	L_203
L_201:
;  531	                        gfx_FillCircle(240, 44 + i * 15, 4);
	LD	BC,4
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,240
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  532	                    }
;  533	                }
L_203:
	INC	(IX+-1)
L_204:
	LD	A,(IX+-1)
	CP	A,2
	JR	C,L_202
;  534	                for (i = 0; i < 2; i++) {
	LD	(IX+-1),0
	JR	L_218
L_216:
;  535	                    if (i == 0) {
	LD	A,(IX+-1)
	OR	A,A
	JR	NZ,L_207
;  536	                        count = playershieldcolor;
	LD	A,(IX+-53)
	UEXT	HL
	LD	L,A
	LD	(IX+-44),HL
;  537	                    } else {
	JR	L_210
L_207:
;  538	                        count = playerbulletcolor;
	LD	A,(IX+-54)
	UEXT	HL
	LD	L,A
	LD	(IX+-44),HL
;  539	                    }
L_210:
;  540	                    if ((count > 1) && (count < 255)) sprintf(str1, "< %d >", count);
	LD	BC,(IX+-44)
	LD	HL,1
	OR	A,A
	SBC	HL,BC
	JP	P,L_212
	LD	BC,255
	LD	HL,(IX+-44)
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_212
	LD	BC,(IX+-44)
	PUSH	BC
	LD	BC,L__114
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
L_212:
;  541	                    if (count == 1) sprintf(str1, "%d >", count);
	LD	BC,1
	LD	HL,(IX+-44)
	OR	A,A
	SBC	HL,BC
	JR	NZ,L_214
	LD	BC,(IX+-44)
	PUSH	BC
	LD	BC,L__116
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
L_214:
;  542	                    if (count == 255) sprintf(str1, "< %d", count);
	LD	BC,255
	LD	HL,(IX+-44)
	OR	A,A
	SBC	HL,BC
	JR	NZ,L_215
	LD	BC,(IX+-44)
	PUSH	BC
	LD	BC,L__118
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
L_215:
;  543	                    gfx_FillCircle(243, 89 + i * 15, 4);
	LD	BC,4
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+89
	PUSH	BC
	LD	BC,243
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  544	                    gfx_FillRectangle(243, 85 + i * 15, 34, 9);
	LD	BC,9
	PUSH	BC
	LD	BC,34
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+85
	PUSH	BC
	LD	BC,243
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  545	                    gfx_FillCircle(277, 89 + i * 15, 4);
	LD	BC,4
	PUSH	BC
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+89
	PUSH	BC
	LD	BC,277
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  546	                    gfx_PrintStringXY(str1, 260 - gfx_GetStringWidth(str1) / 2, 86 + i * 15);
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+86
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,260
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  547	                }
L_218:
	LD	A,(IX+-1)
	CP	A,2
	JR	C,L_216
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  548	                WhiText();
	CALL	_WhiText
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  549	            }
L_246:
;  550	            if (plx == 3) {
	LD	BC,3
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	JR	NZ,L_247
;  551	                gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  552	                if (kb_Data[7] & kb_Up) {
	LD	A,(16056350)
	AND	A,8
	JR	Z,L_233
;  553	                    if ((keypress) && (loopsplayeroff > 0)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_226
	LD	BC,(IX+-51)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	JP	P,L_226
;  554	                        loopsplayeroff--;
	LD	BC,(IX+-51)
	DEC	BC
	LD	(IX+-51),BC
;  555	                        keypress = false;
	LD	(IX+-13),0
;  556	                    }
L_226:
;  557	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  558	                }
L_233:
;  559	                if (kb_Data[7] & kb_Down) {
	LD	A,(16056350)
	AND	A,1
	JR	Z,L_234
;  560	                    if ((keypress) && (loopsplayeroff < 21)) {
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_231
	LD	BC,21
	LD	HL,(IX+-51)
	OR	A,A
	SBC	HL,BC
	JP	P,L_231
;  561	                        loopsplayeroff++;
	LD	BC,(IX+-51)
	INC	BC
	LD	(IX+-51),BC
;  562	                        keypress = false;
	LD	(IX+-13),0
;  563	                    }
L_231:
;  564	                    gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  565	                }
L_234:
;  566	                //the scrolling box thing
;  567	                gfx_FillRectangle(17, 37 + loopsplayeroff * 7, 5, 17);
	LD	BC,17
	PUSH	BC
	LD	A,7
	LD	BC,5
	PUSH	BC
	LD	HL,(IX+-51)
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+37
	PUSH	BC
	LD	BC,17
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  568	                gfx_FillCircle(19, 37 + loopsplayeroff * 7, 2);
	LD	A,7
	LD	BC,2
	PUSH	BC
	LD	HL,(IX+-51)
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+37
	PUSH	BC
	LD	BC,19
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  569	                gfx_FillCircle(19, 54 + loopsplayeroff * 7, 2);
	LD	A,7
	LD	BC,2
	PUSH	BC
	LD	HL,(IX+-51)
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+54
	PUSH	BC
	LD	BC,19
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillCircle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  570	                WhiText();
	CALL	_WhiText
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  571	                gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  572	                //bulletcountdown is used for text y position because why not
;  573	                bulletcountdown = 0;
	LD	BC,0
	LD	(IX+-21),BC
;  574	                for (i = 0; i < 10; ++i) {
	LD	(IX+-1),0
	JR	L_244
L_242:
;  575	                    if (" "[0] == menutextc[i + loopsplayeroff][0]) {
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,40
	LD	BC,(IX+-51)
	ADD	HL,BC
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-2423
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-103),HL
	LD	BC,HL
	LD	(IX+-88),BC
	LD	HL,BC
	LD	A,(L__127)
	CP	A,(HL)
	JR	NZ,L_239
;  576	                        gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  577	                        bulletcountdown++;
	LD	BC,(IX+-21)
	INC	BC
	LD	(IX+-21),BC
;  578	                        gfx_PrintStringXY(menutextc[i + loopsplayeroff], 160 - gfx_GetStringWidth(menutextc[i + loopsplayeroff]) / 2, 44 + (bulletcountdown - 1) * 15);
	LD	HL,BC
	DEC	HL
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+44
	PUSH	BC
	LD	BC,(IX+-88)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	BC,(IX+-88)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  579	                        bulletcountdown++;
	LD	BC,(IX+-21)
	INC	BC
	LD	(IX+-21),BC
;  580	                    } else {
	JR	L_241
L_239:
;  581	                        gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  582	                        gfx_PrintStringXY(menutextc[i + loopsplayeroff], 40, 40 + bulletcountdown * 15);
	LD	HL,(IX+-21)
	LD	A,15
	CALL	__imul_b
	LD	IY,HL
	LEA	BC,IY+40
	PUSH	BC
	LD	BC,40
	PUSH	BC
	LD	BC,(IX+-88)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  583	                        bulletcountdown++;
	LD	BC,(IX+-21)
	INC	BC
	LD	(IX+-21),BC
;  584	                    }
L_241:
;  585	                    if (bulletcountdown > 10) break;
	LD	BC,(IX+-21)
	LD	HL,10
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	M,L_247
	INC	(IX+-1)
;  586	                }
L_244:
	LD	A,(IX+-1)
	CP	A,10
	JR	C,L_242
;  587	            }
L_247:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  588	            gfx_SwapDraw();
	CALL	_gfx_SwapDraw
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  589	        }
L_248:
	LD	A,(16056338)
	AND	A,4
	JR	NZ,L_58
	JR	L_249
;  590	        goto MAINMENU;
;  591	    }
L_253:
;  592	    numasteroids = 0;
;  593	    for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_256
L_254:
;  594	        asteroid_t *s = &asteroid[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,HL
	LD	HL,IX
	LD	DE,-803
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-85),HL
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  595	        s->x = randInt(320, 640);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,321
	CALL	__iremu
	LD	BC,320
	ADD	HL,BC
	LD	BC,HL
	LD	IY,(IX+-85)
	LD	(IY+4),C
	LD	(IY+5),B
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  596	        s->y = randInt(0, 240);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,241
	CALL	__iremu
	LD	IY,(IX+-85)
	LD	(IY+1),HL
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  597	        s->speed = randInt(2, 7);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,6
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-85)
	LD	(IY+6),L
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  598	        s->size = randInt(2, 15);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,14
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-85)
	LD	(IY+0),L
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  599	        s->type = randInt(0, 2);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,3
	CALL	__iremu
	LD	IY,(IX+-85)
	LD	(IY+7),L
	INC	(IX+-1)
;  600	    }
L_256:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_254
;  601	    count = 0;
	LD	BC,0
	LD	(IX+-44),BC
;  602	    playerhealth = 100;
	LD	(IX+-3),100
	LD	(IX+-2),0
;  603	    numbullets = 0;
	LD	(IX+-52),0
;  604	    plx = 160;
	LD	BC,160
	LD	(IX+-12),BC
;  605	    plangle = 1.55;
	LD	BC,13002342
	LD	(IX+-48),BC
	LD	A,63
	LD	(IX+-45),A
;  606	    bulletsfired = 0;
	LD	(IX+-76),0
	LD	(IX+-75),0
;  607	    bulletcountdown = 0;
	LD	BC,0
	LD	(IX+-21),BC
;  608	    shieldcountdown = 0;
	LD	(IX+-56),0
	LD	(IX+-55),0
;  609	    canfire = true;
	LD	(IX+-63),1
;  610	    keypress = true;
	LD	(IX+-13),1
;  611	    gamesplayed++;
	LD	HL,(IX+-71)
	INC	HL
	LD	(IX+-71),L
	LD	(IX+-70),H
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  612	    WhiText();
	CALL	_WhiText
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  613	    while ((!(kb_Data[6] & kb_Clear)) && (playerhealth > 0)) {
	JR	L_376
L_377:
;  614	        timer_Control = TIMER1_ENABLE | TIMER1_32K | TIMER1_UP;
	LD	HL,15859760
	LD	(HL),3
	INC	HL
	LD	(HL),2
;  615	        numasteroids = count / 150;
	LD	HL,(IX+-44)
	LD	BC,150
	CALL	__idivs
	LD	(IX+-81),L
;  616	        if (numasteroids > 20) numasteroids = 20;
	LD	A,20
	CP	A,(IX+-81)
	JR	NC,L_261
	LD	(IX+-81),20
L_261:
;  617	        ++count;
	LD	BC,(IX+-44)
	INC	BC
	LD	(IX+-44),BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  618	        kb_Scan();
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  619	        if (kb_AnyKey()) {
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	OR	A,A
	JR	Z,L_287
;  620	            if ((kb_Data[2] & kb_Alpha) && (shieldcountdown == 0)) shieldcountdown = 1000;
	LD	A,(16056340)
	AND	A,128
	JR	Z,L_266
	LD	HL,(IX+-56)
	CALL	__scmpzero
	JR	NZ,L_266
	LD	(IX+-56),232
	LD	(IX+-55),3
L_266:
;  621	            if (kb_Data[7] & kb_Left) {
	LD	A,(16056350)
	AND	A,2
	JR	Z,L_269
;  622	                if (plangle < 2.55) plangle += 0.1;
	LD	HL,(IX+-48)
	LD	E,(IX+-45)
	LD	BC,2306867
	LD	A,64
	CALL	__fcmp
	JP	P,L_269
	LD	HL,13421773
	LD	E,61
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fadd
	LD	(IX+-48),BC
	LD	(IX+-45),A
;  623	            }
L_269:
;  624	            if (kb_Data[7] & kb_Right) {
	LD	A,(16056350)
	AND	A,4
	JR	Z,L_282
;  625	                if (plangle > 0.55) plangle -= 0.1;
	LD	HL,838861
	LD	E,63
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fcmp
	JP	P,L_282
	LD	HL,13421773
	LD	E,61
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fsub
	LD	(IX+-48),BC
	LD	(IX+-45),A
;  626	            }
L_282:
;  627	            //bullet stuff
;  628	            if (kb_Data[1] & kb_2nd) {
	LD	A,(16056338)
	AND	A,32
	JR	Z,L_281
;  629	                if ((canfire) && (keypress)) {
	LD	A,(IX+-63)
	OR	A,A
	JR	Z,L_288
	LD	A,(IX+-13)
	OR	A,A
	JR	Z,L_288
;  630	                    bullet_t *b = &bullet[numbullets++];
	LD	A,(IX+-52)
	INC	(IX+-52)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	LD	HL,11
	CALL	__imulu
	LD	BC,HL
	LD	HL,IX
	LD	DE,-1023
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-69),HL
;  631	                    b->x = plx + 15 * cos(plangle) + 8;
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,7340032
	LD	E,65
	CALL	__fmul
	LD	HL,BC
	PUSH	BC
	LD	BC,-2480	; spill
	CALL	__istix
	POP	BC
	LD	BC,(IX+-12)
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	LD	B,A
	PUSH	IY
	PUSH	DE
	LD	IY,-2481	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B	; unspill
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__itol
	CALL	__ltof
	LD	E,A
	LD	HL,BC
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2480	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	LD	IY,-2481	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__fadd
	OR	A,A
	SBC	HL,HL
	LD	E,65
	CALL	__fadd
	CALL	__ftol
	LD	IY,(IX+-69)
	LD	(IY+0),C
	LD	(IY+1),B
;  632	                    b->y = 165;
	LD	(IY+2),165
;  633	                    b->xinc = 10 * cos(plangle);
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	CALL	_cos
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	IY,(IX+-69)
	LD	(IY+3),BC
	LD	(IY+6),A
;  634	                    b->yinc = 10 * sin(plangle);
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	CALL	_sin
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	IY,(IX+-69)
	LD	(IY+7),BC
	LD	(IY+10),A
;  635	                    b = &bullet[numbullets++];
	LD	A,(IX+-52)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	LD	HL,11
	CALL	__imulu
	LD	BC,HL
	LD	HL,IX
	LD	DE,-1023
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-69),HL
	INC	(IX+-52)
;  636	                    b->x = plx + 15 * cos(plangle) - 8;
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,7340032
	LD	E,65
	CALL	__fmul
	LD	HL,BC
	PUSH	BC
	LD	BC,-2476	; spill
	CALL	__istix
	POP	BC
	LD	BC,(IX+-12)
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	LD	B,A
	PUSH	IY
	PUSH	DE
	LD	IY,-2477	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B	; unspill
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__itol
	CALL	__ltof
	LD	E,A
	LD	HL,BC
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2476	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	LD	IY,-2477	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__fadd
	OR	A,A
	SBC	HL,HL
	LD	E,65
	CALL	__fsub
	CALL	__ftol
	LD	IY,(IX+-69)
	LD	(IY+0),C
	LD	(IY+1),B
;  637	                    b->y = 165;
	LD	(IY+2),165
;  638	                    b->xinc = 10 * cos(plangle);
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	IY,(IX+-69)
	LD	(IY+3),BC
	LD	(IY+6),A
;  639	                    b->yinc = 10 * sin(plangle);
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sin
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,2097152
	LD	E,65
	CALL	__fmul
	LD	IY,(IX+-69)
	LD	(IY+7),BC
	LD	(IY+10),A
;  640	                    if (bulletsfired == 0) bulletcountdown = 200;
	LD	HL,(IX+-76)
	CALL	__scmpzero
	JR	NZ,L_276
	LD	BC,200
	LD	(IX+-21),BC
L_276:
;  641	                    if (bulletsfired < 5) bulletsfired++;
	LD.LIS	BC,5
	LD	HL,(IX+-76)
	OR	A,A
	SBC.SIS	HL,BC
	JP	P,L_277
	LD	HL,(IX+-76)
	INC	HL
	LD	(IX+-76),L
	LD	(IX+-75),H
L_277:
;  642	                    keypress = false;
	LD	(IX+-13),0
;  643	                    shotsfired++;
	LD	BC,(IX+-74)
	INC	BC
	LD	(IX+-74),BC
;  644	                }
;  645	            } else {
	JR	L_288
L_281:
;  646	                keypress = true;
	LD	(IX+-13),1
;  647	            }
;  648	        } else {
	JR	L_288
L_287:
;  649	            if (plangle < 1.55) {
	LD	HL,(IX+-48)
	LD	E,(IX+-45)
	LD	BC,13002342
	LD	A,63
	CALL	__fcmp
	JP	P,L_285
;  650	                plangle += 0.1;
	LD	HL,13421773
	LD	E,61
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fadd
	LD	(IX+-48),BC
	LD	(IX+-45),A
;  651	            }
L_285:
;  652	            if (plangle > 1.65) {
	LD	HL,13841203
	LD	E,63
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fcmp
	JP	P,L_288
;  653	                plangle -= 0.1;
	LD	HL,13421773
	LD	E,61
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fsub
	LD	(IX+-48),BC
	LD	(IX+-45),A
;  654	            }
;  655	        }
L_288:
;  656	        //plx update
;  657	        plx = plx + 6 * cos(plangle);
	LD	C,(IX+-45)
	LD	B,0
	PUSH	BC
	LD	BC,(IX+-48)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_cos
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	LD	A,E
	LD	BC,HL
	LD	HL,12582912
	LD	E,64
	CALL	__fmul
	LD	HL,BC
	PUSH	BC
	LD	BC,-2472	; spill
	CALL	__istix
	POP	BC
	LD	BC,(IX+-12)
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	LD	B,A
	PUSH	IY
	PUSH	DE
	LD	IY,-2473	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B	; unspill
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__itol
	CALL	__ltof
	LD	E,A
	LD	HL,BC
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2472	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	LD	IY,-2473	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__fadd
	CALL	__ftol
	LD	(IX+-12),BC
;  658	        if (bulletcountdown == 0) {
	LD	HL,(IX+-21)
	CALL	__icmpzero
	JR	NZ,L_292
;  659	            bulletsfired = 0;
	LD	(IX+-76),0
	LD	(IX+-75),0
;  660	            canfire = true;
	LD	(IX+-63),1
;  661	        }
L_292:
;  662	        if (bulletcountdown > 0) bulletcountdown--;
	LD	BC,(IX+-21)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_295
	LD	BC,(IX+-21)
	DEC	BC
	LD	(IX+-21),BC
L_295:
;  663	        if (bulletsfired > 4) {
	LD	BC,(IX+-76)
	LD.LIS	HL,4
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_294
;  664	            canfire = false;
	LD	(IX+-63),0
;  665	        } else {
	JR	L_298
L_294:
;  666	            canfire = true;
	LD	(IX+-63),1
;  667	        }
L_298:
;  668	        if (shieldcountdown > 0) shieldcountdown--;
	LD	BC,(IX+-56)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_308
	LD	HL,(IX+-56)
	DEC	HL
	LD	(IX+-56),L
	LD	(IX+-55),H
L_308:
;  669	//update asteroids
;  670	        for (i = 0; i < numasteroids; ++i) {
	LD	(IX+-1),0
	JR	L_307
L_305:
;  671	            s = &asteroid[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,HL
	LD	HL,IX
	LD	DE,-803
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-16),HL
;  672	            s->y += s->speed;
	LD	IY,(IX+-16)
	LD	A,(IY+6)
	UEXT	HL
	LD	L,A
	LD	BC,(IY+1)
	ADD	HL,BC
;  673	            if (s->y > 240) {
	OR	A,A
	LD	(IY+1),HL
	LD	BC,(IY+1)
	LD	(IX+-109),BC
	LD	HL,240
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_304
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  674	                s->x = randInt(0, 320);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,321
	CALL	__iremu
	LD	BC,HL
	LD	IY,(IX+-16)
	LD	(IY+4),C
	LD	(IY+5),B
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  675	                s->size = randInt(2, 15);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,14
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+0),L
;  676	                s->y = -s->size;
	LD	A,(IY+0)
	UEXT	HL
	LD	L,A
	CALL	__ineg
	LD	(IY+1),HL
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  677	                s->speed = randInt(2, 7);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,6
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+6),L
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  678	                s->type = randInt(0, 2);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,3
	CALL	__iremu
	LD	IY,(IX+-16)
	LD	(IY+7),L
;  679	                continue;
	JR	L_306
;  680	            }
L_304:
;  681	            if ((abs(180 - s->y) <= s->size) && (abs(plx - s->x) <= s->size + 10))
	LD	IY,(IX+-16)
	LD	A,(IY+0)
	LD	(IX+-89),A
	LD	BC,(IX+-109)
	LD	HL,180
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_abs
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,(IX+-89)
	LD	BC,HL
	UEXT	HL
	LD	L,A
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	M,L_306
	LD	IY,(IX+-16)
	LD	BC,(IY+4)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,(IX+-12)
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_abs
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,(IX+-89)
	LD	BC,HL
	UEXT	HL
	LD	L,A
	LD	IY,HL
	LEA	HL,IY+10
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	M,L_306
;  682	                if (shieldcountdown > 800) {
	LD	BC,(IX+-56)
	LD.LIS	HL,800
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_302
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  683	                    s->x = randInt(0, 320);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,321
	CALL	__iremu
	LD	BC,HL
	LD	IY,(IX+-16)
	LD	(IY+4),C
	LD	(IY+5),B
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  684	                    s->size = randInt(2, 15);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,14
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+0),L
;  685	                    s->y = -s->size;
	LD	A,(IY+0)
	UEXT	HL
	LD	L,A
	CALL	__ineg
	LD	(IY+1),HL
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  686	                    s->speed = randInt(2, 7);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,6
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+6),L
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  687	                    s->type = randInt(0, 2);
	CALL	_random
	PUSH	IY
	PUSH	BC
	LD	IY,-2488
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	BC,3
	CALL	__iremu
	LD	IY,(IX+-16)
	LD	(IY+7),L
;  688	                    continue;
	JR	L_306
;  689	                } else {
L_302:
;  690	                    playerhealth -= 3;
	LD	IY,(IX+-3)
	LEA	HL,IY+-3
	LD	(IX+-3),L
	LD	(IX+-2),H
;  691	                }
;  692	            //eventually something here that makes the asteroids break up
;  693	        }
L_306:
	INC	(IX+-1)
L_307:
	LD	A,(IX+-1)
	CP	A,(IX+-81)
	JR	C,L_305
;  694	        //update bullets
;  695	        for (i = 0; i < numbullets; ++i) {
	LD	(IX+-1),0
	JR	L_323
L_321:
;  696	            b = &bullet[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,11
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-1023
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-106),HL
	LD	(IX+-62),HL
;  697	            b->x += b->xinc;
	LD	IY,(IX+-62)
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	XOR	A,A
	CALL	__ultof
	LD	HL,BC
	LD	BC,(IY+3)
	LD	E,A
	LD	A,(IY+6)
	CALL	__fadd
	CALL	__ftol
	LD	(IY+0),C
	LD	(IY+1),B
;  698	            b->y -= b->yinc;
	UEXT	HL
	LD	L,(IY+2)
	LD	A,H
	LD	BC,HL
	LD	HL,(IY+7)
	LD	E,(IY+10)
	CALL	__ultof
	CALL	__fsub
	CALL	__ftol
	LD	(IY+2),C
;  699	            if ((b->x > 320) || (b->x < 0) || (b->y > 240)) {
	LD	BC,(IY+0)
	LD	(IX+-100),C
	LD	(IX+-99),B
	LD	BC,(IX+-100)
	OR	A,A
	LD.LIS	HL,320
	SBC.SIS	HL,BC
	JR	C,L_311
	LD	HL,(IX+-100)
	CALL	__scmpzero
	JR	C,L_311
	LD	A,240
	LD	IY,(IX+-62)
	CP	A,(IY+2)
	JR	NC,L_320
L_311:
;  700	                bullet[i] = bullet[--numbullets];
	DEC	(IX+-52)
	LD	A,(IX+-52)
	UEXT	HL
	LD	L,A
	LD	A,11
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	PUSH	BC
	PUSH	HL
	LD	HL,(IX+-106)
	LD	BC,-2460	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	DE,-1023
	PUSH	BC
	PUSH	HL
	LD	HL,DE	; unspill
	LD	BC,-2463	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2460	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	LD	HL,DE
	LD	BC,-2460	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2463	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,DE
	PUSH	BC
	LD	BC,-2460	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,BC
	LD	BC,11
	LDIR	
;  701	                continue;
	JR	L_322
;  702	            }
L_320:
;  703	            for (j = 0; j < numasteroids; j++) {
	LD	(IX+-18),0
	JR	L_319
L_317:
;  704	                s = &asteroid[j];
	LD	A,(IX+-18)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,HL
	LD	HL,IX
	LD	DE,-803
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-16),HL
;  705	                if ((abs(b->x - s->x) <= s->size + 2)) {
	LD	IY,(IX+-16)
	LD	A,(IY+0)
	UEXT	HL
	LD	L,A
	INC	HL
	INC	HL
	LD	(IX+-112),HL
	LD	IY,(IX+-62)
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	DE,HL
	LD	IY,(IX+-16)
	LD	BC,(IY+4)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,DE
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_abs
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,(IX+-112)
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	M,L_318
;  706	                    if ((abs(b->y - s->y) <= s->size + 2) && (s->y > 0)) {
	LD	IY,(IX+-62)
	LD	A,(IY+2)
	UEXT	HL
	LD	IY,(IX+-16)
	LD	BC,(IY+1)
	LD	L,A
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_abs
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,HL
	LD	HL,(IX+-112)
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	M,L_318
	LD	IY,(IX+-16)
	LD	BC,(IY+1)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_318
;  707	                        s->x = randInt(0, 320);
	CALL	_random
	LD	BC,321
	CALL	__iremu
	LD	BC,HL
	LD	IY,(IX+-16)
	LD	(IY+4),C
	LD	(IY+5),B
;  708	                        s->size = randInt(2, 15);
	CALL	_random
	LD	BC,14
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+0),L
;  709	                        s->y = -s->size;
	LD	A,(IY+0)
	UEXT	HL
	LD	L,A
	CALL	__ineg
	LD	(IY+1),HL
;  710	                        s->speed = randInt(2, 7);
	CALL	_random
	LD	BC,6
	CALL	__iremu
	INC	HL
	INC	HL
	LD	IY,(IX+-16)
	LD	(IY+6),L
;  711	                        s->type = randInt(0, 2);
	CALL	_random
	LD	BC,3
	CALL	__iremu
	LD	IY,(IX+-16)
	LD	(IY+7),L
;  712	                        bullet[i] = bullet[--numbullets];
	DEC	(IX+-52)
	LD	A,(IX+-52)
	UEXT	HL
	LD	L,A
	LD	A,11
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-1023
	ADD	HL,DE
	ADD	HL,BC
	LD	BC,HL
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,11
	CALL	__imul_b
	LD	DE,HL
	LD	HL,IX
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2434	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	DE,-1023
	PUSH	BC
	PUSH	HL
	LD	HL,DE	; unspill
	LD	BC,-2437	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2434	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,-2434	; spill
	CALL	__istix
	POP	HL
	LD	BC,-2437	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,DE
	PUSH	BC
	LD	BC,-2434	; unspill
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	ADD	HL,DE
	LD	DE,HL
	LD	HL,BC
	LD	BC,11
	LDIR	
;  713	                        asteroidsdestroyed++;
	LD	BC,(IX+-66)
	INC	BC
	LD	(IX+-66),BC
;  714	                    }
;  715	                }
;  716	            }
L_318:
	INC	(IX+-18)
L_319:
	LD	A,(IX+-18)
	CP	A,(IX+-81)
	JR	C,L_317
;  717	        }
L_322:
	INC	(IX+-1)
L_323:
	LD	A,(IX+-1)
	CP	A,(IX+-52)
	JR	C,L_321
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  718	//graphics start here
;  719	        gfx_ZeroScreen();
	CALL	_gfx_ZeroScreen
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  720	        //highscore line thing
;  721	        if (abs(highscore - count) < 54) {
	LD	BC,(IX+-44)
	LD	HL,(IX+-59)
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_abs
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	BC,54
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_328
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  722	            gfx_SetColor(randInt(0, 255));
	CALL	_random
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	C,L
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  723	            gfx_FillRectangle(0, 165 - (highscore - count) * 3, 120, 2);
	OR	A,A
	LD	BC,2
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,(IX+-44)
	LD	HL,(IX+-59)
	SBC	HL,BC
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,165
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  724	            gfx_FillRectangle(200, 165 - (highscore - count) * 3, 120, 2);
	OR	A,A
	LD	BC,2
	PUSH	BC
	LD	BC,120
	PUSH	BC
	LD	BC,(IX+-44)
	LD	HL,(IX+-59)
	SBC	HL,BC
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,165
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	BC,200
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  725	            gfx_SetTextFGColor(randInt(0, 255));
	CALL	_random
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	C,L
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  726	            strcpy(str1, "Highscore!");
	LD	BC,L__166
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_strcpy
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  727	            if (161 - (highscore - count) < 190) gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 161 - (highscore - count) * 3);
	LD	BC,(IX+-44)
	LD	HL,(IX+-59)
	OR	A,A
	SBC	HL,BC
	LD	BC,HL
	LD	HL,161
	OR	A,A
	SBC	HL,BC
	OR	A,A
	LD	BC,190
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_328
	LD	BC,(IX+-44)
	LD	HL,(IX+-59)
	OR	A,A
	SBC	HL,BC
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,161
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  728	        }
L_328:
;  729	        gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  730	        for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_335
L_333:
;  731	            f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  732	            t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
;  733	            f->y += 1;
;  734	            if (f->y > 240) f->y = 0;
	LD	A,240
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
	LD	IY,(IX+-6)
	LD	B,(IY+2)
	INC	B
	LD	(IY+2),B
	CP	A,(IY+2)
	JR	NC,L_330
	LD	IY,(IX+-6)
	LD	(IY+2),0
L_330:
;  735	            t->y += 0.5;
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	OR	A,A
	SBC	HL,HL
	LD	E,63
	CALL	__fadd
	LD	(IY+2),BC
	LD	(IY+5),A
;  736	            if (t->y > 240) t->y = 0;
	LD	BC,(IY+2)
	LD	A,(IY+5)
	LD	HL,7340032
	LD	E,67
	CALL	__fcmp
	JP	P,L_332
	LD	BC,0
	LD	IY,(IX+-9)
	LD	(IY+2),BC
	LD	(IY+5),0
L_332:
;  737	            //graphics
;  738	            gfx_FillRectangle(320 - f->x, f->y, 2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	LD	IY,(IX+-6)
	LD	A,(IY+2)
	UEXT	HL
	LD	L,A
	PUSH	HL
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  739	            gfx_SetPixel(320 - t->x, t->y);
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetPixel
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	INC	(IX+-1)
;  740	        }
L_335:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_333
;  741	        if (plx < 0 || plx > 320) {
	LD	HL,(IX+-12)
	CALL	__icmpzero
	CALL	__setflag
	JP	M,L_346
	LD	BC,(IX+-12)
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_347
L_346:
;  742	            loopsplayeroff++;
	LD	BC,(IX+-51)
	INC	BC
	LD	(IX+-51),BC
;  743	            if (loopsplayeroff > 60) playerhealth--;
	OR	A,A
	LD	HL,60
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_340
	LD	HL,(IX+-3)
	DEC	HL
	LD	(IX+-3),L
	LD	(IX+-2),H
L_340:
;  744	            gfx_SetTextFGColor(224);
	LD	BC,224
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  745	            gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  746	            if (plx < 15) gfx_PrintStringXY("!", 8, 172);
	LD	HL,(IX+-12)
	LD	BC,15
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_343
	LD	BC,172
	PUSH	BC
	LD	BC,8
	PUSH	BC
	LD	BC,L__175
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
L_343:
;  747	            if (plx > 305) gfx_PrintStringXY("!", 312, 172);
	LD	BC,(IX+-12)
	LD	HL,305
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_344
	LD	BC,172
	PUSH	BC
	LD	BC,312
	PUSH	BC
	LD	BC,L__177
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
L_344:
;  748	            gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  749	            gfx_SetTextScale(1, 1);
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  750	        } else {
	JR	L_352
L_347:
;  751	            loopsplayeroff = 0;
	LD	BC,0
	LD	(IX+-51),BC
;  752	            gfx_RotatedTransparentSprite_NoClip(currspaceship, plx - 15, 165, -plangle * 41 + 64);
	LD	BC,64
	PUSH	BC
	LD	BC,(IX+-48)
	LD	A,(IX+-45)
	CALL	__fneg
	LD	HL,2359296
	LD	E,66
	CALL	__fmul
	LD	HL,8388608
	LD	E,66
	CALL	__fadd
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,165
	PUSH	BC
	LD	IY,(IX+-12)
	LEA	BC,IY+-15
	PUSH	BC
	LD	BC,(IX+-98)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_RotatedScaledTransparentSprite_NoClip
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  753	            if (shieldcountdown > 800) {
	LD	BC,(IX+-56)
	LD.LIS	HL,800
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_352
;  754	                gfx_SetColor(playershieldcolor);
	LD	C,(IX+-53)
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  755	                gfx_Circle(plx, 180, 18);
	LD	BC,18
	PUSH	BC
	LD	BC,180
	PUSH	BC
	LD	BC,(IX+-12)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Circle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  756	            }
;  757	        }
L_352:
;  758	        for (i = 0; i < numasteroids; ++i) {
	LD	(IX+-1),0
	JR	L_351
L_349:
;  759	            asteroid_t *s = &asteroid[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,HL
	LD	BC,HL
	LD	HL,IX
	LD	DE,-803
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-95),HL
;  760	            gfx_TransparentSprite(spr[s->type][s->size - 2], s->x - s->size, s->y - s->size);
	LD	IY,(IX+-95)
	LD	D,(IY+0)
	LD	A,D
	UEXT	HL
	LD	L,A
	LD	BC,HL
	LD	HL,(IY+1)
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	BC,(IY+4)
	CALL	__stoiu
	LD	BC,HL
	LD	A,D
	UEXT	HL
	LD	L,A
	PUSH	BC
	PUSH	HL
	LD	HL,BC
	LD	BC,-2448	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	BC,HL
	PUSH	BC
	PUSH	HL
	LD	HL,BC	; unspill
	LD	BC,-2451	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	BC,-2448	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,HL
	POP	HL
	LD	HL,BC
	OR	A,A
	LD	BC,-2451	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,HL
	POP	HL
	SBC	HL,BC
	PUSH	HL
	LD	A,(IY+7)
	UEXT	HL
	LD	L,A
	LD	A,9
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	PUSH	BC
	PUSH	HL
	LD	HL,BC
	LD	BC,-2454	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	BC,-643
	PUSH	BC
	PUSH	HL
	LD	HL,BC	; unspill
	LD	BC,-2457	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	BC,-2454	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,HL
	POP	HL
	PUSH	BC
	PUSH	HL
	LD	HL,BC
	LD	BC,-2454	; spill
	CALL	__istix
	POP	HL
	POP	BC
	LD	BC,-2457	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,HL
	POP	HL
	ADD	HL,BC
	LD	BC,-2454	; unspill
	PUSH	HL
	CALL	__ildix
	LD	BC,HL
	POP	HL
	ADD	HL,BC
	LD	BC,HL
	LD	A,D
	UEXT	HL
	LD	L,A
	DEC	HL
	DEC	HL
	LD	DE,HL
	ADD	HL,HL
	ADD	HL,DE
	ADD	HL,BC
	LD	BC,(HL)
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_TransparentSprite
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  761	        }
L_351:
	LD	A,(IX+-1)
	CP	A,(IX+-81)
	JR	C,L_349
;  762	        gfx_SetColor(0);
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  763	        gfx_FillRectangle(0, 228, 320, 12);
	LD	BC,12
	PUSH	BC
	LD	BC,320
	PUSH	BC
	LD	BC,228
	PUSH	BC
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  764	        if (playerhealth > 70) gfx_SetColor(7);
	LD	BC,(IX+-3)
	LD.LIS	HL,70
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_356
	LD	BC,7
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
L_356:
;  765	        if (playerhealth < 80) gfx_SetColor(231);
	LD.LIS	BC,80
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_358
	LD	BC,231
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
L_358:
;  766	        if (playerhealth < 40) gfx_SetColor(224);
	LD.LIS	BC,40
	LD	HL,(IX+-3)
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_359
	LD	BC,224
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
L_359:
;  767	        gfx_FillRectangle(160 - playerhealth, 232, playerhealth * 2, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	ADD	HL,HL
	PUSH	HL
	LD	BC,232
	PUSH	BC
	LD	BC,(IX+-3)
	CALL	__stoi
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  768	        if (bulletcountdown > 0) {
	LD	BC,(IX+-21)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC	HL,BC
	CALL	__setflag
	JP	P,L_361
;  769	            gfx_SetColor(224);
	LD	BC,224
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  770	            gfx_FillRectangle(2, 232, bulletcountdown / 3.6, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,(IX+-21)
	CALL	__itol
	CALL	__ltof
	LD	HL,6710886
	LD	E,64
	CALL	__fdiv
	CALL	__ftol
	PUSH	BC
	LD	BC,232
	PUSH	BC
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  771	        } else {
	JR	L_363
L_361:
;  772	            gfx_SetColor(7);
	LD	BC,7
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  773	            gfx_FillRectangle(2, 232, 52, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,52
	PUSH	BC
	LD	BC,232
	PUSH	BC
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  774	        }
L_363:
;  775	        if (shieldcountdown >= 800) {
	LD.LIS	BC,800
	LD	HL,(IX+-56)
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	M,L_366
;  776	            gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
;  777	            gfx_FillRectangle(318 - (shieldcountdown - 800) / 3.8, 232, (shieldcountdown - 800) / 3.8, 6);
	LD	BC,(IX+-56)
	CALL	__stoi
	LD	BC,16776416
	ADD	HL,BC
	LD	BC,HL
	CALL	__itol
	CALL	__ltof
	LD	HL,7549747
	LD	E,64
	CALL	__fdiv
	LD	HL,BC
	LD	BC,HL
	LD	E,A
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	POP	BC
	LD	HL,6
	PUSH	BC
	LD	BC,-2469	; spill
	CALL	__istix
	LD	BC,-2426	; unspill
	CALL	__ildix
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2469	; unspill
	CALL	__ildix
	POP	BC
	PUSH	HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	CALL	__ftol
	PUSH	BC
	LD	BC,10420224
	LD	A,67
	CALL	__fsub
	LD	DE,232
	PUSH	DE
	CALL	__ftol
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  778	        }
L_366:
;  779	        if ((shieldcountdown < 800) && (shieldcountdown > 0)) {
	LD.LIS	BC,800
	LD	HL,(IX+-56)
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_368
	LD	BC,(IX+-56)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC.SIS	HL,BC
	CALL	__setflag
	JP	P,L_368
;  780	            gfx_SetColor(224);
	LD	BC,224
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	POP	BC
;  781	            gfx_FillRectangle(318 - shieldcountdown / 15.2, 232, shieldcountdown / 15.2, 6);
	LD	A,(IX+-55)
	RLA	
	SBC	A,A
	LD	BC,(IX+-56)
	CALL	__stoi
	LD	BC,HL
	CALL	__ltof
	LD	HL,7549747
	LD	E,65
	CALL	__fdiv
	LD	HL,BC
	LD	BC,HL
	LD	E,A
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	POP	BC
	LD	HL,6
	PUSH	BC
	LD	BC,-2466	; spill
	CALL	__istix
	LD	BC,-2426	; unspill
	CALL	__ildix
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2466	; unspill
	CALL	__ildix
	POP	BC
	PUSH	HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	CALL	__ftol
	PUSH	BC
	LD	BC,10420224
	LD	A,67
	CALL	__fsub
	LD	DE,232
	PUSH	DE
	CALL	__ftol
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  782	        }
L_368:
;  783	        if (shieldcountdown == 0) {
	LD	HL,(IX+-56)
	CALL	__scmpzero
	JR	NZ,L_369
;  784	            gfx_SetColor(7);
	LD	BC,7
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  785	            gfx_FillRectangle(266, 232, 52, 6);
	LD	BC,6
	PUSH	BC
	LD	BC,52
	PUSH	BC
	LD	BC,232
	PUSH	BC
	LD	BC,266
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  786	        }
L_369:
;  787	        //bottom toolbar
;  788	        gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  789	        gfx_PrintStringXY("HEALTH", 136, 218);
	LD	BC,218
	PUSH	BC
	LD	BC,136
	PUSH	BC
	LD	BC,L__188
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  790	        gfx_PrintStringXY("SHIELD", 267, 218);
	LD	BC,218
	PUSH	BC
	LD	BC,267
	PUSH	BC
	LD	BC,L__189
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  791	        gfx_PrintStringXY("BULLET", 5, 218);
	LD	BC,218
	PUSH	BC
	LD	BC,5
	PUSH	BC
	LD	BC,L__190
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  792	        gfx_SetTextFGColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  793	        gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  794	        gfx_FillRectangle(0, 228, 320, 2);
	LD	BC,2
	PUSH	BC
	LD	BC,320
	PUSH	BC
	LD	BC,228
	PUSH	BC
	LD	BC,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  795	        gfx_FillRectangle(56, 228, 2, 12);
	LD	BC,12
	PUSH	BC
	LD	BC,2
	PUSH	BC
	LD	BC,228
	PUSH	BC
	LD	BC,56
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  796	        gfx_FillRectangle(262, 228, 2, 12);
	LD	BC,12
	PUSH	BC
	LD	BC,2
	PUSH	BC
	LD	BC,228
	PUSH	BC
	LD	BC,262
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  797	        gfx_SetColor(playerbulletcolor);
	LD	C,(IX+-54)
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  798	        for (i = 0; i < numbullets; ++i) {
	LD	(IX+-1),0
	JR	L_372
L_370:
;  799	            bullet_t *b = &bullet[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	A,11
	CALL	__imul_b
	LD	BC,HL
	LD	HL,IX
	LD	DE,-1023
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-92),HL
;  800	            gfx_Line(b->x, b->y, b->x + b->xinc / 2, b->y - b->yinc / 2);
	LD	IY,(IX+-92)
	LD	B,(IY+2)
	PUSH	IY
	PUSH	DE
	LD	IY,-2431	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	UEXT	HL
	PUSH	IY
	PUSH	DE
	LD	IY,-2431	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	L,B
	LD	A,H
	LD	BC,HL
	LD	IY,(IX+-92)
	LD	HL,(IY+0)
	PUSH	BC
	LD	BC,-2429	; spill
	CALL	__istix
	POP	BC
	CALL	__ultof
	LD	HL,BC
	PUSH	BC
	LD	BC,-2440	; spill
	CALL	__istix
	POP	BC
	LD	BC,(IY+7)
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	LD	B,A
	PUSH	IY
	PUSH	DE
	LD	IY,-2441	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B	; unspill
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,(IY+10)
	OR	A,A
	SBC	HL,HL
	LD	E,64
	CALL	__fdiv
	LD	E,A
	LD	HL,BC
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2440	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	LD	IY,-2441	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__fsub
	CALL	__ftol
	PUSH	BC
	LD	IY,(IX+-92)
	LD	BC,(IY+3)
	LD	A,(IY+6)
	OR	A,A
	SBC	HL,HL
	LD	E,64
	CALL	__fdiv
	LD	HL,BC
	PUSH	BC
	LD	BC,-2444	; spill
	CALL	__istix
	LD	BC,-2429	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	CALL	__stoiu
	LD	B,A
	PUSH	IY
	PUSH	DE
	LD	IY,-2445	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	POP	DE
	POP	IY
	XOR	A,A
	LD	BC,HL
	CALL	__ultof
	LD	E,A
	LD	HL,BC
	PUSH	BC
	LD	BC,-2426	; spill
	CALL	__istix
	LD	BC,-2444	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	PUSH	BC
	LD	BC,-2426	; unspill
	CALL	__ildix
	POP	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; spill
	LD	DE,IX	; spill
	ADD	IY,DE
	LD	(IY),B
	LD	IY,-2445	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	PUSH	IY
	PUSH	DE
	LD	IY,-2430	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	CALL	__fadd
	CALL	__ftol
	PUSH	BC
	PUSH	IY
	PUSH	DE
	LD	IY,-2431	; unspill
	LD	DE,IX	; unspill
	ADD	IY,DE
	LD	B,(IY)
	POP	DE
	POP	IY
	LD	A,B
	UEXT	HL
	LD	L,A
	PUSH	HL
	PUSH	BC
	LD	BC,-2429	; unspill
	CALL	__ildix
	POP	BC
	LD	BC,HL
	CALL	__stoiu
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_Line
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
	INC	(IX+-1)
;  801	        }
L_372:
	LD	A,(IX+-1)
	CP	A,(IX+-52)
	JR	C,L_370
;  802	        sprintf(str1, "Score = %d", count);
	LD	BC,(IX+-44)
	PUSH	BC
	LD	BC,L__192
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  803	        gfx_PrintStringXY(str1, 5, 5);
	LD	BC,5
	PUSH	BC
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  804	        if (showfps) {
	LD	A,(IX+-78)
	OR	A,A
	JR	Z,L_375
;  805	        sprintf(str1, "FPS = %d", 32768 / timer_1_Counter);
	LD	HL,32768
	LD	E,0
	LD	BC,(15859712)
	LD	A,(15859715)
	CALL	__ldivu
	LD	C,E
	LD	B,0
	PUSH	BC
	PUSH	HL
	LD	BC,L__194
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_sprintf
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  806	        gfx_PrintStringXY(str1, 5, 15);
	LD	BC,15
	PUSH	BC
	LD	BC,5
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  807	        }
L_375:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  808	        gfx_SwapDraw();
	CALL	_gfx_SwapDraw
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  809	        //update frametime and stuff
;  810	        frametime = timer_1_Counter;
	LD	HL,(15859712)
	LD	(IX+-114),L
	LD	(IX+-113),H
;  811	        timer_1_Counter = 0;
	LD	BC,0
	LD	(15859712),BC
	XOR	A,A
	LD	(15859715),A
;  812	    }
L_376:
	LD	A,(16056348)
	AND	A,64
	JR	NZ,L_378
	LD	BC,(IX+-3)
	OR	A,A
	SBC	HL,HL
	OR	A,A
	SBC.SIS	HL,BC
	JP	M,L_377
;  813	    while (kb_AnyKey()) kb_Scan();
	JR	L_378
L_379:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
L_378:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	OR	A,A
	JR	NZ,L_379
;  814	    while (!kb_AnyKey()) {
	JR	L_394
L_395:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  815	        kb_Scan();
	CALL	_kb_Scan
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  816	        for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_386
L_384:
;  817	            f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  818	            t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
;  819	            f->y += 1;
;  820	            if (f->y > 240) f->y = 0;
	LD	A,240
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
	LD	IY,(IX+-6)
	LD	B,(IY+2)
	INC	B
	LD	(IY+2),B
	CP	A,(IY+2)
	JR	NC,L_382
	LD	IY,(IX+-6)
	LD	(IY+2),0
L_382:
;  821	            t->y += 0.5;
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	OR	A,A
	SBC	HL,HL
	LD	E,63
	CALL	__fadd
	LD	(IY+2),BC
	LD	(IY+5),A
;  822	            if (t->y > 240) t->y = 0;
	LD	BC,(IY+2)
	LD	A,(IY+5)
	LD	HL,7340032
	LD	E,67
	CALL	__fcmp
	JP	P,L_385
	LD	BC,0
	LD	IY,(IX+-9)
	LD	(IY+2),BC
	LD	(IY+5),0
;  823	        }
L_385:
	INC	(IX+-1)
L_386:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_384
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  824	        //draw everything
;  825	        gfx_ZeroScreen();
	CALL	_gfx_ZeroScreen
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  826	        gfx_SetColor(255);
	LD	BC,255
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  827	        for (i = 0; i < 20; ++i) {
	LD	(IX+-1),0
	JR	L_390
L_388:
;  828	            f = &fstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-217
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-6),HL
;  829	            t = &bstar[i];
	LD	A,(IX+-1)
	UEXT	HL
	LD	L,A
	LD	BC,HL
	ADD	HL,HL
	ADD	HL,HL
	ADD	HL,BC
	ADD	HL,BC
	LD	BC,HL
	LD	HL,IX
	LD	DE,-517
	ADD	HL,DE
	ADD	HL,BC
	LD	(IX+-9),HL
;  830	            gfx_FillRectangle(320 - f->x, f->y, 2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	LD	IY,(IX+-6)
	LD	A,(IY+2)
	UEXT	HL
	LD	L,A
	PUSH	HL
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_FillRectangle
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  831	            gfx_SetPixel(320 - t->x, t->y);
	LD	IY,(IX+-9)
	LD	BC,(IY+2)
	LD	A,(IY+5)
	CALL	__ftol
	LD	B,0
	PUSH	BC
	LD	BC,(IY+0)
	CALL	__stoiu
	LD	BC,HL
	LD	HL,320
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetPixel
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	INC	(IX+-1)
;  832	        }
L_390:
	LD	A,(IX+-1)
	CP	A,20
	JR	C,L_388
;  833	        gfx_SetTextScale(2, 2);
	LD	BC,2
	PUSH	BC
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextScale
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  834	        gfx_SetTextFGColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  835	        gfx_PrintStringXY("Finished", 160 - gfx_GetStringWidth("Finished") / 2, 10);
	LD	BC,10
	PUSH	BC
	LD	BC,L__202
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	LD	BC,L__203
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  836	        gfx_SetColor(20);
	LD	BC,20
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  837	        gfx_HorizLine(15, 30, 290);
	LD	BC,290
	PUSH	BC
	LD	BC,30
	PUSH	BC
	LD	BC,15
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_HorizLine
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  838	        if (count >= highscore) {
	LD	BC,(IX+-59)
	LD	HL,(IX+-44)
	OR	A,A
	SBC	HL,BC
	JP	M,L_393
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  839	            gfx_SetTextFGColor(randInt(0, 255));
	CALL	_random
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2491
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	LD	C,L
	LD	B,0
	PUSH	BC
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_SetTextFGColor
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
;  840	            strcpy(str1, "New highscore!");
	LD	BC,L__205
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_strcpy
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
;  841	            gfx_PrintStringXY(str1, 160 - gfx_GetStringWidth(str1) / 2, 180);
	LD	BC,180
	PUSH	BC
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_GetStringWidth
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	LD	A,1
	CALL	__ishru_b
	LD	BC,HL
	LD	HL,160
	OR	A,A
	SBC	HL,BC
	PUSH	HL
	PEA	IX+-41
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_gfx_PrintStringXY
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	POP	BC
	POP	BC
	POP	BC
;  842	            highscore = count;
	LD	BC,(IX+-44)
	LD	(IX+-59),BC
;  843	        }
L_393:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
;  844	        gfx_SwapDraw();
	CALL	_gfx_SwapDraw
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
;  845	    }
L_394:
	PUSH	BC
	PUSH	HL
	LD	HL,DE
	LD	BC,-2490
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	BC
	PUSH	HL
	LD	HL,IY
	LD	BC,-2493
	CALL	__istix
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	(IY),D
	POP	BC
	POP	IY
	CALL	_kb_AnyKey
	PUSH	BC
	LD	BC,-2490
	PUSH	HL
	CALL	__ildix
	LD	DE,HL
	POP	HL
	POP	BC
	PUSH	BC
	LD	BC,-2493
	PUSH	HL
	CALL	__ildix
	LD	IY,HL
	POP	HL
	POP	BC
	PUSH	IY
	PUSH	BC
	LD	IY,-2494
	LD	BC,IX
	ADD	IY,BC
	LD	D,(IY)
	POP	BC
	POP	IY
	OR	A,A
	JR	NZ,L_58
	JR	L_395
L_87:
;  846	    goto MAINMENU;
;  847	//save highscore to appvar
;  848	QUIT:
;  849	    gfx_End();
	CALL	_gfx_End
;  850	    ti_CloseAll();
	CALL	_ti_CloseAll
;  851	    slota = ti_Open("HSTRMDAT", "w+");
	LD	BC,L__207
	PUSH	BC
	LD	BC,L__208
	PUSH	BC
	CALL	_ti_Open
	POP	BC
	POP	BC
	LD	(IX+-17),A
;  852	    ti_Write(&highscore, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-59
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  853	    ti_Write(&currship, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-77
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  854	    ti_Write(&gamesplayed, 2, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,2
	PUSH	BC
	PEA	IX+-71
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  855	    ti_Write(&asteroidsdestroyed, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-66
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  856	    ti_Write(&shotsfired, 3, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	LD	BC,3
	PUSH	BC
	PEA	IX+-74
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  857	    ti_Write(&playershieldcolor, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-53
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  858	    ti_Write(&playerbulletcolor, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-54
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  859	    ti_Write(&menuwrapping, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-82
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  860	    ti_Write(&showfps, 1, 1, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	PUSH	BC
	PEA	IX+-78
	CALL	_ti_Write
	POP	BC
	POP	BC
	POP	BC
	POP	BC
;  861	    ti_SetArchiveStatus(true, slota);
	LD	C,(IX+-17)
	LD	B,0
	PUSH	BC
	LD	BC,1
	PUSH	BC
	CALL	_ti_SetArchiveStatus
	POP	BC
	POP	BC
;  862	}
	LD	SP,IX
	POP	IX
	RET	


;**************************** _main ***************************
;Name                         Addr/Register   Size   Type
;_ti_SetArchiveStatus                IMPORT  -----   function
;_ti_Write                           IMPORT  -----   function
;_gfx_End                            IMPORT  -----   function
;_gfx_Line                           IMPORT  -----   function
;_gfx_TransparentSprite              IMPORT  -----   function
;_abs                                IMPORT  -----   function
;_sprintf                            IMPORT  -----   function
;_gfx_ScaledTransparentSprite_NoClip      IMPORT  -----   function
;_gfx_HorizLine                      IMPORT  -----   function
;_gfx_SwapDraw                       IMPORT  -----   function
;_cos                                IMPORT  -----   function
;_sin                                IMPORT  -----   function
;_gfx_FillTriangle                   IMPORT  -----   function
;_gfx_GetStringWidth                 IMPORT  -----   function
;_gfx_PrintStringXY                  IMPORT  -----   function
;_gfx_SetTextScale                   IMPORT  -----   function
;_strcpy                             IMPORT  -----   function
;_gfx_SetTextFGColor                 IMPORT  -----   function
;_gfx_FillCircle                     IMPORT  -----   function
;_gfx_Circle                         IMPORT  -----   function
;_gfx_SetPixel                       IMPORT  -----   function
;_gfx_FillRectangle                  IMPORT  -----   function
;_gfx_SetColor                       IMPORT  -----   function
;_gfx_ZeroScreen                     IMPORT  -----   function
;_kb_AnyKey                          IMPORT  -----   function
;_kb_Scan                            IMPORT  -----   function
;_random                             IMPORT  -----   function
;_ti_Read                            IMPORT  -----   function
;_ti_Open                            IMPORT  -----   function
;_ti_CloseAll                        IMPORT  -----   function
;_asteroidc_data                     IMPORT    902   variable
;_asteroidb_data                     IMPORT    902   variable
;_gfx_GetSprite                      IMPORT  -----   function
;_malloc                             IMPORT  -----   function
;_gfx_AllocSprite                    IMPORT  -----   function
;_asteroida_data                     IMPORT    902   variable
;_gfx_RotatedScaledTransparentSprite_NoClip      IMPORT  -----   function
;_gfx_FillScreen                     IMPORT  -----   function
;_gfx_SetTransparentColor            IMPORT  -----   function
;_gfx_SetDraw                        IMPORT  -----   function
;_gfx_Begin                          IMPORT  -----   function
;_spaceshipg_data                    IMPORT    902   variable
;_spaceshipf_data                    IMPORT    902   variable
;_spaceshipe_data                    IMPORT    902   variable
;_spaceshipd_data                    IMPORT    902   variable
;_spaceshipc_data                    IMPORT    902   variable
;_spaceshipb_data                    IMPORT    902   variable
;_spaceshipa_data                    IMPORT    902   variable
;_2temp30                            STATIC   1400   variable
;_1temp29                            STATIC    100   variable
;_0temp28                            STATIC     80   variable
;menutextc                          IX-2423   1400   variable
;bullet                             IX-1023    220   variable
;asteroid                            IX-803    160   variable
;spr                                 IX-643    126   variable
;bstar                               IX-517    120   variable
;menutextb                           IX-397    100   variable
;menutext                            IX-297     80   variable
;fstar                               IX-217     60   variable
;spaceship                           IX-157     40   variable
;s                                   IX-117      3   variable
;frametime                           IX-114      2   variable
;G_8                                 IX-112      3   variable
;G_4                                 IX-109      3   variable
;G_7                                 IX-106      3   variable
;G_0                                 IX-103      3   variable
;G_6                                 IX-100      2   variable
;currspaceship                        IX-98      3   variable
;s                                    IX-95      3   variable
;b                                    IX-92      3   variable
;G_5                                  IX-89      1   variable
;G_1                                  IX-88      3   variable
;s                                    IX-85      3   variable
;menuwrapping                         IX-82      1   variable
;numasteroids                         IX-81      1   variable
;keypressed                           IX-80      2   variable
;showfps                              IX-78      1   variable
;currship                             IX-77      1   variable
;bulletsfired                         IX-76      2   variable
;shotsfired                           IX-74      3   variable
;gamesplayed                          IX-71      2   variable
;b                                    IX-69      3   variable
;asteroidsdestroyed                   IX-66      3   variable
;canfire                              IX-63      1   variable
;b                                    IX-62      3   variable
;highscore                            IX-59      3   variable
;shieldcountdown                      IX-56      2   variable
;playerbulletcolor                    IX-54      1   variable
;playershieldcolor                    IX-53      1   variable
;numbullets                           IX-52      1   variable
;loopsplayeroff                       IX-51      3   variable
;plangle                              IX-48      4   variable
;count                                IX-44      3   variable
;str1                                 IX-41     20   variable
;bulletcountdown                      IX-21      3   variable
;j                                    IX-18      1   variable
;slota                                IX-17      1   variable
;s                                    IX-16      3   variable
;keypress                             IX-13      1   variable
;plx                                  IX-12      3   variable
;t                                     IX-9      3   variable
;f                                     IX-6      3   variable
;playerhealth                          IX-3      2   variable
;i                                     IX-1      1   variable


; Stack Frame Size: 2500 (bytes)
;       Spill Code: 0 (instruction)


	SEGMENT STRSECT
L__25:
	DB	"r"
	DB	0
L__26:
	DB	"HSTRMDAT"
	DB	0
L__35:
	DB	"HailStorm"
	DB	0
L__66:
	DB	"%d / 7"
	DB	0
L__67:
	DB	"Unlocked: %d"
	DB	0
L__69:
	DB	"Highscore :"
	DB	0
L__70:
	DB	"%d"
	DB	0
L__71:
	DB	"Games Played :"
	DB	0
L__72:
	DB	"%d"
	DB	0
L__73:
	DB	"Asteroids Destroyed:"
	DB	0
L__74:
	DB	"%d"
	DB	0
L__75:
	DB	"Shots Fired :"
	DB	0
L__76:
	DB	"%d"
	DB	0
L__77:
	DB	"Accuracy :"
	DB	0
L__78:
	DB	"%"
	DB	0
L__79:
	DB	"%d %s"
	DB	0
L__114:
	DB	"< %d >"
	DB	0
L__116:
	DB	"%d >"
	DB	0
L__118:
	DB	"< %d"
	DB	0
L__127:
	DB	" "
	DB	0
L__166:
	DB	"Highscore!"
	DB	0
L__175:
	DB	"!"
	DB	0
L__177:
	DB	"!"
	DB	0
L__188:
	DB	"HEALTH"
	DB	0
L__189:
	DB	"SHIELD"
	DB	0
L__190:
	DB	"BULLET"
	DB	0
L__192:
	DB	"Score = %d"
	DB	0
L__194:
	DB	"FPS = %d"
	DB	0
L__202:
	DB	"Finished"
	DB	0
L__203:
	DB	"Finished"
	DB	0
L__205:
	DB	"New highscore!"
	DB	0
L__207:
	DB	"w+"
	DB	0
L__208:
	DB	"HSTRMDAT"
	DB	0
	SEGMENT TEXT
_0temp28:
	DB	83
	DB	101
	DB	108
	DB	101
	DB	99
	DB	116
	DB	32
	DB	83
	DB	104
	DB	105
	DB	112
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	83
	DB	116
	DB	97
	DB	116
	DB	105
	DB	115
	DB	116
	DB	105
	DB	99
	DB	115
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	83
	DB	101
	DB	116
	DB	116
	DB	105
	DB	110
	DB	103
	DB	115
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	65
	DB	98
	DB	111
	DB	117
	DB	116
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
_1temp29:
	DB	77
	DB	101
	DB	110
	DB	117
	DB	32
	DB	87
	DB	114
	DB	97
	DB	112
	DB	112
	DB	105
	DB	110
	DB	103
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	83
	DB	104
	DB	111
	DB	119
	DB	32
	DB	70
	DB	80
	DB	83
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	82
	DB	101
	DB	115
	DB	101
	DB	116
	DB	32
	DB	72
	DB	105
	DB	103
	DB	104
	DB	115
	DB	99
	DB	111
	DB	114
	DB	101
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	83
	DB	104
	DB	105
	DB	101
	DB	108
	DB	100
	DB	32
	DB	67
	DB	111
	DB	108
	DB	111
	DB	114
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	66
	DB	117
	DB	108
	DB	108
	DB	101
	DB	116
	DB	32
	DB	67
	DB	111
	DB	108
	DB	111
	DB	114
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
_2temp30:
	DB	32
	DB	73
	DB	110
	DB	116
	DB	114
	DB	111
	DB	100
	DB	117
	DB	99
	DB	116
	DB	105
	DB	111
	DB	110
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	84
	DB	104
	DB	97
	DB	110
	DB	107
	DB	115
	DB	32
	DB	102
	DB	111
	DB	114
	DB	32
	DB	100
	DB	111
	DB	119
	DB	110
	DB	108
	DB	111
	DB	97
	DB	100
	DB	105
	DB	110
	DB	103
	DB	32
	DB	97
	DB	110
	DB	100
	DB	32
	DB	112
	DB	108
	DB	97
	DB	121
	DB	105
	DB	110
	DB	103
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	72
	DB	97
	DB	105
	DB	108
	DB	83
	DB	116
	DB	111
	DB	114
	DB	109
	DB	44
	DB	32
	DB	119
	DB	104
	DB	105
	DB	99
	DB	104
	DB	32
	DB	97
	DB	105
	DB	109
	DB	115
	DB	32
	DB	116
	DB	111
	DB	32
	DB	98
	DB	101
	DB	32
	DB	97
	DB	32
	DB	102
	DB	117
	DB	110
	DB	32
	DB	115
	DB	112
	DB	97
	DB	99
	DB	101
	DB	0
	DB	115
	DB	104
	DB	111
	DB	111
	DB	116
	DB	101
	DB	114
	DB	32
	DB	119
	DB	105
	DB	116
	DB	104
	DB	32
	DB	109
	DB	97
	DB	110
	DB	121
	DB	32
	DB	102
	DB	101
	DB	97
	DB	116
	DB	117
	DB	114
	DB	101
	DB	115
	DB	46
	DB	32
	DB	87
	DB	105
	DB	116
	DB	104
	DB	32
	DB	115
	DB	109
	DB	111
	DB	111
	DB	116
	DB	104
	DB	0
	DB	97
	DB	110
	DB	100
	DB	32
	DB	99
	DB	111
	DB	110
	DB	115
	DB	105
	DB	115
	DB	116
	DB	101
	DB	110
	DB	116
	DB	32
	DB	103
	DB	97
	DB	109
	DB	101
	DB	112
	DB	108
	DB	97
	DB	121
	DB	44
	DB	32
	DB	109
	DB	97
	DB	110
	DB	121
	DB	32
	DB	97
	DB	118
	DB	97
	DB	105
	DB	108
	DB	97
	DB	98
	DB	108
	DB	101
	DB	0
	DB	115
	DB	112
	DB	97
	DB	99
	DB	101
	DB	115
	DB	104
	DB	105
	DB	112
	DB	115
	DB	32
	DB	97
	DB	110
	DB	100
	DB	32
	DB	113
	DB	117
	DB	97
	DB	108
	DB	105
	DB	116
	DB	121
	DB	32
	DB	103
	DB	114
	DB	97
	DB	112
	DB	104
	DB	105
	DB	99
	DB	115
	DB	44
	DB	32
	DB	105
	DB	116
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	105
	DB	116
	DB	32
	DB	105
	DB	115
	DB	32
	DB	97
	DB	32
	DB	102
	DB	117
	DB	110
	DB	32
	DB	103
	DB	97
	DB	109
	DB	101
	DB	32
	DB	116
	DB	111
	DB	32
	DB	112
	DB	108
	DB	97
	DB	121
	DB	32
	DB	105
	DB	110
	DB	32
	DB	109
	DB	97
	DB	116
	DB	104
	DB	32
	DB	99
	DB	108
	DB	97
	DB	115
	DB	115
	DB	0
	DB	0
	DB	111
	DB	114
	DB	32
	DB	97
	DB	110
	DB	121
	DB	119
	DB	104
	DB	101
	DB	114
	DB	101
	DB	32
	DB	101
	DB	108
	DB	115
	DB	101
	DB	46
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	32
	DB	71
	DB	97
	DB	109
	DB	101
	DB	112
	DB	108
	DB	97
	DB	121
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	84
	DB	104
	DB	101
	DB	32
	DB	103
	DB	97
	DB	109
	DB	101
	DB	112
	DB	108
	DB	97
	DB	121
	DB	32
	DB	105
	DB	115
	DB	32
	DB	118
	DB	101
	DB	114
	DB	121
	DB	32
	DB	115
	DB	105
	DB	109
	DB	112
	DB	108
	DB	101
	DB	58
	DB	32
	DB	106
	DB	117
	DB	115
	DB	116
	DB	32
	DB	100
	DB	111
	DB	100
	DB	103
	DB	101
	DB	0
	DB	116
	DB	104
	DB	101
	DB	32
	DB	97
	DB	115
	DB	116
	DB	101
	DB	114
	DB	111
	DB	105
	DB	100
	DB	115
	DB	44
	DB	32
	DB	115
	DB	104
	DB	111
	DB	111
	DB	116
	DB	105
	DB	110
	DB	103
	DB	32
	DB	116
	DB	104
	DB	101
	DB	109
	DB	32
	DB	111
	DB	114
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	97
	DB	99
	DB	116
	DB	105
	DB	118
	DB	97
	DB	116
	DB	105
	DB	110
	DB	103
	DB	32
	DB	121
	DB	111
	DB	117
	DB	114
	DB	32
	DB	115
	DB	104
	DB	105
	DB	101
	DB	108
	DB	100
	DB	32
	DB	119
	DB	104
	DB	101
	DB	110
	DB	32
	DB	110
	DB	101
	DB	99
	DB	101
	DB	115
	DB	115
	DB	97
	DB	114
	DB	121
	DB	46
	DB	0
	DB	0
	DB	87
	DB	105
	DB	116
	DB	104
	DB	32
	DB	116
	DB	104
	DB	97
	DB	116
	DB	32
	DB	115
	DB	97
	DB	105
	DB	100
	DB	44
	DB	32
	DB	104
	DB	101
	DB	114
	DB	101
	DB	32
	DB	97
	DB	114
	DB	101
	DB	32
	DB	116
	DB	104
	DB	101
	DB	32
	DB	99
	DB	111
	DB	110
	DB	116
	DB	114
	DB	111
	DB	108
	DB	115
	DB	58
	DB	0
	DB	0
	DB	91
	DB	60
	DB	93
	DB	32
	DB	97
	DB	110
	DB	100
	DB	32
	DB	91
	DB	62
	DB	93
	DB	58
	DB	32
	DB	109
	DB	111
	DB	118
	DB	101
	DB	32
	DB	108
	DB	101
	DB	102
	DB	116
	DB	32
	DB	111
	DB	114
	DB	32
	DB	114
	DB	105
	DB	103
	DB	104
	DB	116
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	91
	DB	50
	DB	110
	DB	100
	DB	93
	DB	58
	DB	32
	DB	102
	DB	105
	DB	114
	DB	101
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	91
	DB	97
	DB	108
	DB	112
	DB	104
	DB	97
	DB	93
	DB	58
	DB	32
	DB	97
	DB	99
	DB	116
	DB	105
	DB	118
	DB	97
	DB	116
	DB	101
	DB	32
	DB	115
	DB	104
	DB	105
	DB	101
	DB	108
	DB	100
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	91
	DB	121
	DB	61
	DB	93
	DB	58
	DB	32
	DB	112
	DB	97
	DB	117
	DB	115
	DB	101
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	32
	DB	67
	DB	114
	DB	101
	DB	100
	DB	105
	DB	116
	DB	115
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	84
	DB	104
	DB	97
	DB	110
	DB	107
	DB	115
	DB	32
	DB	116
	DB	111
	DB	32
	DB	101
	DB	118
	DB	101
	DB	114
	DB	121
	DB	111
	DB	110
	DB	101
	DB	32
	DB	119
	DB	104
	DB	111
	DB	32
	DB	104
	DB	101
	DB	108
	DB	112
	DB	101
	DB	100
	DB	32
	DB	111
	DB	117
	DB	116
	DB	32
	DB	119
	DB	105
	DB	116
	DB	104
	DB	0
	DB	0
	DB	116
	DB	104
	DB	105
	DB	115
	DB	32
	DB	112
	DB	114
	DB	111
	DB	106
	DB	101
	DB	99
	DB	116
	DB	46
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	71
	DB	114
	DB	97
	DB	112
	DB	104
	DB	105
	DB	99
	DB	115
	DB	58
	DB	32
	DB	109
	DB	97
	DB	116
	DB	107
	DB	101
	DB	108
	DB	108
	DB	101
	DB	114
	DB	49
	DB	57
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	70
	DB	101
	DB	101
	DB	100
	DB	98
	DB	97
	DB	99
	DB	107
	DB	58
	DB	32
	DB	116
	DB	114
	DB	49
	DB	112
	DB	49
	DB	101
	DB	97
	DB	44
	DB	32
	DB	109
	DB	97
	DB	108
	DB	97
	DB	103
	DB	97
	DB	115
	DB	44
	DB	32
	DB	74
	DB	101
	DB	102
	DB	102
	DB	105
	DB	116
	DB	117
	DB	115
	DB	44
	DB	0
	DB	0
	DB	0
	DB	98
	DB	101
	DB	99
	DB	107
	DB	97
	DB	100
	DB	97
	DB	109
	DB	116
	DB	104
	DB	101
	DB	105
	DB	110
	DB	118
	DB	101
	DB	110
	DB	116
	DB	111
	DB	114
	DB	44
	DB	32
	DB	116
	DB	114
	DB	49
	DB	119
	DB	114
	DB	107
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	72
	DB	101
	DB	108
	DB	112
	DB	58
	DB	32
	DB	77
	DB	97
	DB	116
	DB	101
	DB	111
	DB	67
	DB	111
	DB	110
	DB	76
	DB	101
	DB	99
	DB	104
	DB	117
	DB	103
	DB	97
	DB	44
	DB	32
	DB	82
	DB	117
	DB	110
	DB	101
	DB	114
	DB	49
	DB	49
	DB	50
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	32
	DB	67
	DB	111
	DB	110
	DB	99
	DB	108
	DB	117
	DB	115
	DB	105
	DB	111
	DB	110
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	84
	DB	104
	DB	97
	DB	110
	DB	107
	DB	115
	DB	32
	DB	97
	DB	103
	DB	97
	DB	105
	DB	110
	DB	32
	DB	102
	DB	111
	DB	114
	DB	32
	DB	100
	DB	111
	DB	119
	DB	110
	DB	108
	DB	111
	DB	97
	DB	100
	DB	105
	DB	110
	DB	103
	DB	46
	DB	32
	DB	73
	DB	102
	DB	32
	DB	121
	DB	111
	DB	117
	DB	0
	DB	0
	DB	0
	DB	0
	DB	119
	DB	97
	DB	110
	DB	116
	DB	32
	DB	116
	DB	111
	DB	32
	DB	99
	DB	104
	DB	101
	DB	99
	DB	107
	DB	32
	DB	111
	DB	117
	DB	116
	DB	32
	DB	115
	DB	111
	DB	109
	DB	101
	DB	32
	DB	111
	DB	102
	DB	32
	DB	109
	DB	121
	DB	32
	DB	111
	DB	116
	DB	104
	DB	101
	DB	114
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	112
	DB	114
	DB	111
	DB	103
	DB	114
	DB	97
	DB	109
	DB	115
	DB	32
	DB	111
	DB	114
	DB	32
	DB	115
	DB	117
	DB	98
	DB	109
	DB	105
	DB	116
	DB	32
	DB	102
	DB	101
	DB	97
	DB	116
	DB	117
	DB	114
	DB	101
	DB	32
	DB	114
	DB	101
	DB	113
	DB	117
	DB	101
	DB	115
	DB	116
	DB	115
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	111
	DB	114
	DB	32
	DB	115
	DB	112
	DB	114
	DB	105
	DB	116
	DB	101
	DB	115
	DB	32
	DB	102
	DB	111
	DB	114
	DB	32
	DB	116
	DB	104
	DB	105
	DB	115
	DB	32
	DB	111
	DB	110
	DB	101
	DB	44
	DB	32
	DB	112
	DB	108
	DB	101
	DB	97
	DB	115
	DB	101
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	118
	DB	105
	DB	115
	DB	105
	DB	116
	DB	32
	DB	119
	DB	119
	DB	119
	DB	46
	DB	99
	DB	101
	DB	109
	DB	101
	DB	116
	DB	101
	DB	99
	DB	104
	DB	46
	DB	110
	DB	101
	DB	116
	DB	32
	DB	97
	DB	110
	DB	100
	DB	32
	DB	115
	DB	101
	DB	97
	DB	114
	DB	99
	DB	104
	DB	32
	DB	102
	DB	111
	DB	114
	DB	0
	DB	0
	DB	0
	DB	72
	DB	97
	DB	105
	DB	108
	DB	83
	DB	116
	DB	111
	DB	114
	DB	109
	DB	32
	DB	67
	DB	69
	DB	46
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	DB	0
	XREF _sin:ROM
	XREF _cos:ROM
	XREF _kb_AnyKey:ROM
	XREF _kb_Scan:ROM
	XREF _gfx_GetStringWidth:ROM
	XREF _gfx_RotatedScaledTransparentSprite_NoClip:ROM
	XREF _gfx_ScaledTransparentSprite_NoClip:ROM
	XREF _gfx_GetSprite:ROM
	XREF _gfx_TransparentSprite:ROM
	XREF _gfx_SetTextTransparentColor:ROM
	XREF _gfx_SetTextBGColor:ROM
	XREF _gfx_SetTextFGColor:ROM
	XREF _gfx_PrintStringXY:ROM
	XREF _gfx_SetTextScale:ROM
	XREF _gfx_SwapDraw:ROM
	XREF _gfx_SetDraw:ROM
	XREF _gfx_FillTriangle:ROM
	XREF _gfx_FillCircle:ROM
	XREF _gfx_Circle:ROM
	XREF _gfx_FillRectangle:ROM
	XREF _gfx_Rectangle:ROM
	XREF _gfx_HorizLine:ROM
	XREF _gfx_Line:ROM
	XREF _gfx_SetPixel:ROM
	XREF _gfx_ZeroScreen:ROM
	XREF _gfx_FillScreen:ROM
	XREF _gfx_SetTransparentColor:ROM
	XREF _gfx_SetColor:ROM
	XREF _gfx_End:ROM
	XREF _gfx_Begin:ROM
	XREF _gfx_AllocSprite:ROM
	XREF _strcpy:ROM
	XREF _sprintf:ROM
	XREF _ti_SetArchiveStatus:ROM
	XREF _ti_Read:ROM
	XREF _ti_Write:ROM
	XREF _ti_Open:ROM
	XREF _ti_CloseAll:ROM
	XREF _abs:ROM
	XREF _malloc:ROM
	XREF _random:ROM
	XREF _asteroidc_data:ROM
	XREF _asteroidb_data:ROM
	XREF _asteroida_data:ROM
	XREF _spaceshipg_data:ROM
	XREF _spaceshipf_data:ROM
	XREF _spaceshipe_data:ROM
	XREF _spaceshipd_data:ROM
	XREF _spaceshipc_data:ROM
	XREF _spaceshipb_data:ROM
	XREF _spaceshipa_data:ROM
	XREF __idivs:ROM
	XREF __imulu:ROM
	XREF __ldivu:ROM
	XREF __ineg:ROM
	XREF __iremu:ROM
	XREF __fadd:ROM
	XREF __fsub:ROM
	XREF __fmul:ROM
	XREF __fdiv:ROM
	XREF __fneg:ROM
	XREF __fcmp:ROM
	XREF __ftol:ROM
	XREF __ltof:ROM
	XREF __ultof:ROM
	XREF __stoi:ROM
	XREF __stoiu:ROM
	XREF __itol:ROM
	XREF __ildix:ROM
	XREF __istix:ROM
	XREF __frameset:ROM
	XREF __setflag:ROM
	XREF __scmpzero:ROM
	XREF __icmpzero:ROM
	XREF __imul_b:ROM
	XREF __ishru_b:ROM
	XDEF _main
	XDEF _Confirm
	XDEF _BlaText
	XDEF _WhiText
	END
